<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>æ²®çˆ¹æ¨¡æ‹Ÿå™¨å¼€æºæ•™å­¦ç½‘é¡µ</title>
		<link rel="stylesheet" href="css/head.css">
	</head>
	<body>

		<button id="backToTopBtn">å›åˆ°é¡¶éƒ¨</button>

		<div class="header-placeholder"></div>
		<section class="hero-section">
			<h1 class="hero-title">æ²®çˆ¹æ¨¡æ‹Ÿå™¨å¼€æºæ•™å­¦ç½‘é¡µ</h1>
			<h3 class="hero-title">å°†é¼ æ ‡æ‚¬åœåœ¨å‡½æ•°åä¸ŠæŸ¥çœ‹å®Œæ•´æºä»£ç </h3>
			<div class="nav-buttons">
				<button class="nav-button"><a href="index.html">è¿”å›ä¸»é¡µ</a></button>
				<button class="nav-button"><a href="jushou.html">è¿›å…¥æ²®çˆ¹æ¨¡æ‹Ÿå™¨</a></button>
			</div>
		</section>
		<div class="instructions">
			<h3>ä½¿ç”¨è¯´æ˜</h3>
			<p>å°†é¼ æ ‡æ‚¬åœåœ¨å‡½æ•°åï¼Œé…å¥—cssä¸Šï¼Œä¼šæ˜¾ç¤ºè¯¥å‡½æ•°å’Œé…å¥—cssçš„å®Œæ•´æºä»£ç ã€‚</p>
			<p>æ¯ä¸ªå‡½æ•°ä¸‹æ–¹æ·»åŠ äº†<strong>é…å¥—CSS</strong>éƒ¨åˆ†ï¼ŒåŒæ ·å¯ä»¥é€šè¿‡æ‚¬åœæŸ¥çœ‹CSSæºä»£ç ã€‚</p>
		</div>

		<!-- æ ¸å¿ƒæ¸¸æˆåŠŸèƒ½ -->
		<div class="function-category">ä¸€ã€æ ¸å¿ƒæ¸¸æˆåŠŸèƒ½</div>

		<!-- 1. ç‰Œå †ç®¡ç†ç³»ç»Ÿ -->
		<div class="function-item">
			<div class="function-name">
				initializeDeck()
				<div class="function-tooltip">
					<strong>initializeDeck()</strong> - åˆå§‹åŒ–ç‰Œå †
					<code>function initializeDeck() {
						// æ¸…ç©ºæ—¥å¿—
						document.getElementById('log').innerHTML = '';
						log("ç‰Œå †åˆå§‹åŒ–å¼€å§‹");

						// é‡ç½®æ‰€æœ‰æ•°ç»„
						deck = [];
						drawnCards = [];
						discardPile = [];
						hand = [];

						// æ¸…ç©ºUIæ˜¾ç¤º
						document.getElementById('deck').innerHTML = '';

						// é‡ç½®æ¸¸æˆçŠ¶æ€
						reshuffleUsed = 0;
						phase = '';
						lastUsedCard = null;
						peachCount = 1;
						wineCount = 1;

						// ä½¿ç”¨é¢„å®šä¹‰çš„standardDeckç”Ÿæˆç‰Œå †
						standardDeck.forEach(card => {
						// å¤„ç†æ¯å¼ å¡ç‰Œçš„èŠ±è‰²å’Œç‚¹æ•°
						card.suits.forEach(suitStr => {
						// ä½¿ç”¨æ­£åˆ™åŒ¹é…èŠ±è‰²å’Œç‚¹æ•°
						const match = suitStr.match(/^([â™ â™¥â™£â™¦]ï¸?)([JQKA]|\d+)$/);
						if (match) {
						const suitPart = match[1];
						let point = match[2];

						// ç‚¹æ•°è½¬æ¢
						if (point === 'J') point = 11;
						else if (point === 'Q') point = 12;
						else if (point === 'K') point = 13;
						else if (point === 'A') point = 1;
						else point = parseInt(point);

						// æ ¹æ®å¡ç‰Œæ•°é‡ç”Ÿæˆå¤šå¼ ç‰Œ
						for (let i = 0; i < card.count; i++) { // ç”Ÿæˆå”¯ä¸€IDå¹¶æ·»åŠ åˆ°ç‰Œå † deck.push({ name: card.name, suit:
							suitPart, point: point, uid: CryptoJS.lib.WordArray.random(16).toString() }); } } }); }); //
							é‡ç½®æ­¦å™¨çŠ¶æ€ currentWeapon=null; killCount=2; hasZhugeLianNu=false; updateStatus(); // æ›´æ–°çŠ¶æ€æ˜¾ç¤º //
							æ´—ç‰Œå¹¶å¼€å§‹æ¸¸æˆ shuffleDeck(); generateDeckMD5(); updateMD5Display(); generateDeckAES();
							updateAESDisplay(); updateRemaining(); startGame(); log("ç‰Œå †åˆå§‹åŒ–å®Œæˆ"); }</code>
				</div>
			</div>
			<div class="function-description">
				åˆå§‹åŒ–æ¸¸æˆç‰Œå †ï¼Œé‡ç½®æ‰€æœ‰æ¸¸æˆçŠ¶æ€å˜é‡ï¼Œç”Ÿæˆæ–°çš„ç‰Œå †å¹¶å¼€å§‹æ¸¸æˆã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>ç‰Œå †ç®¡ç†ç³»ç»ŸCSS</strong>
						<code>/* å¡ç‰ŒåŸºç¡€æ ·å¼ */
							.card {
							background-color: #f0f0f0;
							border: 1px solid #ccc;
							padding: 8px;
							margin: 4px;
							display: inline-block;
							width: 130px;
							text-align: center;
							border-radius: 4px;
							box-shadow: 0 2px 4px rgba(0,0,0,0.1);
							transition: all 0.2s ease;
							}

							.card:hover {
							transform: translateY(-3px);
							box-shadow: 0 4px 8px rgba(0,0,0,0.15);
							}

							/* ç‰Œå †åŒºåŸŸæ ·å¼ */
							#deck {
							margin-top: 15px;
							padding: 10px;
							background: #f8f9fa;
							border: 1px solid #e0e0e0;
							border-radius: 6px;
							min-height: 100px;
							}

							/* å‰©ä½™ç‰Œå †åŒºåŸŸæ ·å¼ */
							#remaining {
							margin-top: 15px;
							padding: 10px;
							background: #fff8e1;
							border: 1px solid #ffd54f;
							border-radius: 6px;
							min-height: 100px;
							}

							/* æ‰‹ç‰ŒåŒºåŸŸæ ·å¼ */
							#hand {
							margin: 15px 0;
							padding: 15px;
							background: #e8f5e9;
							border: 1px solid #c8e6c9;
							border-radius: 6px;
							min-height: 150px;
							}

							/* é«˜äº®çŠ¶æ€ */
							.highlight {
							background-color: #fff9c4;
							border: 2px solid #ffd600;
							box-shadow: 0 0 10px rgba(255, 214, 0, 0.5);
							}

							/* ç¦ç”¨çŠ¶æ€ */
							.disabled {
							opacity: 0.5;
							pointer-events: none;
							cursor: not-allowed;
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>ä½¿ç”¨Fisher-Yatesæ´—ç‰Œç®—æ³•å®ç°éšæœºç‰Œå †</li>
					<li>å¡ç‰Œå¯¹è±¡æ¨¡å‹åŒ…å«åç§°ã€èŠ±è‰²ã€ç‚¹æ•°å’Œå”¯ä¸€ID</li>
					<li>æ”¯æŒå¤šç§å¡ç‰Œç±»å‹ï¼šåŸºæœ¬ç‰Œã€é”¦å›Šç‰Œã€è£…å¤‡ç‰Œ</li>
				</ul>
			</div>
		</div>

		<!-- æ´—ç‰Œå‡½æ•° -->
		<div class="function-item">
			<div class="function-name">
				shuffleDeck()
				<div class="function-tooltip">
					<strong>shuffleDeck()</strong> - æ´—ç‰Œå‡½æ•°
					<code>function shuffleDeck() {
						log("å¼€å§‹æ´—ç‰Œ...");

						// ä½¿ç”¨Fisher-Yatesæ´—ç‰Œç®—æ³•
						for (let i = deck.length - 1; i > 0; i--) {
						// ä½¿ç”¨åŠ å¯†APIè·å–éšæœºç´¢å¼•
						const randomBuffer = new Uint32Array(1);
						window.crypto.getRandomValues(randomBuffer);
						const j = randomBuffer[0] % (i + 1);

						// äº¤æ¢ä½ç½®
						[deck[i], deck[j]] = [deck[j], deck[i]];
						}

						// æ·»åŠ æ´—ç‰ŒåŠ¨ç”»æ•ˆæœ
						const deckElement = document.getElementById('deck');
						deckElement.classList.add('shuffling');

						// æ›´æ–°UIæ˜¾ç¤º
						updateDeckDisplay();

						// ç”Ÿæˆæ–°çš„åŠ å¯†æ ‡è¯†
						generateDeckMD5();
						generateDeckAES();

						// ç§»é™¤åŠ¨ç”»ç±»
						setTimeout(() => {
						deckElement.classList.remove('shuffling');
						log("æ´—ç‰Œå®Œæˆï¼ç‰Œå †å·²é‡æ–°éšæœºæ’åº");
						}, 1200);
						}</code>
				</div>
			</div>
			<div class="function-description">
				ä½¿ç”¨Fisher-Yatesç®—æ³•éšæœºæ‰“ä¹±ç‰Œå †é¡ºåºï¼Œæ›´æ–°åŠ å¯†æ ‡è¯†å’ŒçŠ¶æ€æ˜¾ç¤ºã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>æ´—ç‰ŒåŠ¨ç”»CSS</strong>
						<code>/* æ´—ç‰ŒåŠ¨ç”»å®¹å™¨ */
							.shuffling {
							position: relative;
							animation: deckShuffle 1.2s cubic-bezier(0.4, 0, 0.2, 1);
							filter: drop-shadow(0 0 12px rgba(255, 215, 64, 0.6));
							}

							/* å•å¼ å¡ç‰Œçš„æ´—ç‰ŒåŠ¨ç”» */
							.card.shuffle-item {
							animation: cardShuffle 0.8s ease-in-out both;
							transform-origin: 50% 100%;
							}

							/* ç‰Œå †æ•´ä½“æ´—ç‰ŒåŠ¨ç”» */
							@keyframes deckShuffle {
							0% {
							transform: translateY(0) rotateZ(0deg);
							opacity: 1;
							}
							30% {
							transform: translateY(-20px) rotateZ(-5deg);
							opacity: 0.9;
							}
							70% {
							transform: translateY(10px) rotateZ(5deg);
							opacity: 0.95;
							}
							100% {
							transform: translateY(0) rotateZ(0deg);
							opacity: 1;
							}
							}

							/* å•å¼ å¡ç‰Œæ´—ç‰ŒåŠ¨ç”» */
							@keyframes cardShuffle {
							0% {
							transform: rotateZ(0deg) scale(1);
							z-index: 1;
							}
							25% {
							transform: rotateZ(-15deg) scale(1.05);
							z-index: 2;
							}
							50% {
							transform: rotateZ(15deg) scale(0.95);
							filter: brightness(1.2);
							}
							75% {
							transform: rotateZ(-10deg) scale(1.02);
							filter: brightness(1.1);
							}
							100% {
							transform: rotateZ(0deg) scale(1);
							z-index: 1;
							}
							}

							/* å‡å°‘è¿åŠ¨åå¥½è®¾ç½® */
							@media (prefers-reduced-motion: no-preference) {
							.shuffling,
							.card.shuffle-item {
							will-change: transform, filter;
							backface-visibility: hidden;
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>ä½¿ç”¨Fisher-Yatesæ´—ç‰Œç®—æ³•å®ç°é«˜æ•ˆéšæœºåŒ–</li>
					<li>é‡‡ç”¨åŠ å¯†APIç”Ÿæˆå®‰å…¨éšæœºæ•°ï¼ˆwindow.crypto.getRandomValuesï¼‰</li>
					<li>æ·»åŠ è§†è§‰åŠ¨ç”»æ•ˆæœå¢å¼ºç”¨æˆ·ä½“éªŒ</li>
					<li>æ”¯æŒå‡å°‘è¿åŠ¨åå¥½è®¾ç½®ï¼ˆprefers-reduced-motionï¼‰</li>
				</ul>
			</div>
		</div>

		<!-- æŠ½ç‰Œå‡½æ•° -->
		<div class="function-item">
			<div class="function-name">
				drawCards(count)
				<div class="function-tooltip">
					<strong>drawCards(count)</strong> - æŠ½ç‰Œå‡½æ•°
					<code>function drawCards(count) {
						log(`å¼€å§‹æŠ½å– ${count} å¼ ç‰Œ...`);

						// æ£€æŸ¥ç‰Œå †æ˜¯å¦è¶³å¤Ÿ
						if (deck.length < count) { log("ç‰Œå †æ•°é‡ä¸è¶³ï¼Œè‡ªåŠ¨é‡æ–°æ´—ç‰Œå¼ƒç‰Œå †"); reshuffleDiscardPile(); } const drawn=[];
							for (let i=0; i < count; i++) { if (deck.length===0) { log("ç‰Œå †å·²ç©ºï¼Œæ— æ³•ç»§ç»­æŠ½ç‰Œ"); break; } //
							ä»ç‰Œå †é¡¶éƒ¨å–ç‰Œ const card=deck.shift(); drawn.push(card); drawnCards.push(card); // æ·»åŠ åˆ°æ‰‹ç‰Œ
							hand.push(card); // æ·»åŠ åŠ¨ç”»æ•ˆæœ animateCardDraw(card); } // æ›´æ–°UIå’ŒçŠ¶æ€ updateHandDisplay();
							updateRemaining(); generateDeckMD5(); updateMD5Display(); log(`æˆåŠŸæŠ½å– ${drawn.length} å¼ ç‰Œ`); //
							æ£€æŸ¥æ˜¯å¦æŠ½åˆ°è¯¸è‘›è¿å¼© const zhugeCard=drawn.find(card=> card.name === "è¯¸è‘›è¿å¼©");
							if (zhugeCard) {
							hasZhugeLianNu = true;
							log("â˜… æŠ½åˆ°è¯¸è‘›è¿å¼©ï¼Œæ€æ¬¡æ•°ä¸Šé™+1");
							updateStatus();
							}

							return drawn;
							}

							// è¾…åŠ©å‡½æ•°ï¼šå¡ç‰‡æŠ½å–åŠ¨ç”»
							function animateCardDraw(card) {
							const cardElement = document.createElement('div');
							cardElement.className = 'card draw-animation';
							cardElement.textContent = `${card.name} (${card.suit}${card.point})`;
							cardElement.dataset.uid = card.uid;

							// æ·»åŠ åˆ°åŠ¨ç”»å®¹å™¨
							const animationContainer = document.getElementById('animation-container');
							animationContainer.appendChild(cardElement);

							// åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
							setTimeout(() => {
							cardElement.remove();
							}, 1200);
							}</code>
				</div>
			</div>
			<div class="function-description">
				ä»ç‰Œå †é¡¶éƒ¨æŠ½å–æŒ‡å®šæ•°é‡çš„å¡ç‰Œï¼Œæ·»åŠ åˆ°ç©å®¶æ‰‹ç‰Œä¸­ã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>æŠ½ç‰ŒåŠ¨ç”»CSS</strong>
						<code>/* æŠ½ç‰ŒåŠ¨ç”»å®¹å™¨ */
							#animation-container {
							position: fixed;
							top: 0;
							left: 0;
							width: 100%;
							height: 100%;
							pointer-events: none;
							z-index: 2000;
							overflow: visible;
							}

							/* æŠ½ç‰ŒåŠ¨ç”» */
							.card.draw-animation {
							position: absolute;
							top: 50%;
							left: 50%;
							z-index: 2001;
							animation: drawCard 1.2s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
							transform-origin: center;
							box-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
							}

							/* æŠ½ç‰ŒåŠ¨ç”»å…³é”®å¸§ */
							@keyframes drawCard {
							0% {
							transform: translate(-50%, -50%) scale(0.8) rotateY(0deg);
							opacity: 0;
							filter: blur(2px);
							}
							30% {
							transform: translate(-50%, -150%) scale(1.2) rotateY(180deg);
							opacity: 1;
							filter: blur(0);
							box-shadow: 0 0 30px rgba(255, 215, 0, 0.9);
							}
							70% {
							transform: translate(calc(-50% + 200px), -50%) scale(1.1) rotateY(360deg);
							opacity: 0.9;
							}
							100% {
							transform: translate(calc(-50% + 400px), 100px) scale(1) rotateY(720deg);
							opacity: 0;
							}
							}

							/* ç‰¹æ®Šå¡ç‰Œé«˜äº® */
							.card.draw-animation[data-card-type="weapon"] {
							animation: drawWeapon 1.2s ease-in-out forwards;
							background: linear-gradient(45deg, #ffeb3b, #ff9800);
							box-shadow: 0 0 25px rgba(255, 152, 0, 0.8);
							}

							@keyframes drawWeapon {
							0% {
							transform: translate(-50%, -50%) scale(0.8);
							opacity: 0;
							}
							50% {
							transform: translate(-50%, -50%) scale(1.3);
							opacity: 1;
							box-shadow: 0 0 40px rgba(255, 152, 0, 0.9);
							}
							100% {
							transform: translate(calc(-50% + 400px), 100px) scale(1);
							opacity: 0;
							}
							}

							/* å‡å°‘è¿åŠ¨è®¾ç½® */
							@media (prefers-reduced-motion: reduce) {
							.card.draw-animation {
							animation: none !important;
							opacity: 0 !important;
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>è‡ªåŠ¨æ£€æµ‹ç‰Œå †æ•°é‡ä¸è¶³æ—¶é‡æ–°æ´—ç‰Œå¼ƒç‰Œå †</li>
					<li>æ”¯æŒå‡å°‘è¿åŠ¨åå¥½è®¾ç½®ï¼ˆprefers-reduced-motionï¼‰</li>
					<li>æŠ½åˆ°æ­¦å™¨å¡ç‰Œæ—¶è‡ªåŠ¨æ›´æ–°æ¸¸æˆçŠ¶æ€</li>
				</ul>
			</div>
		</div>
		<!-- 2. æ¸¸æˆé˜¶æ®µç®¡ç† -->
		<div class="function-item">
			<div class="function-name">
				startGame()
				<div class="function-tooltip">
					<strong>startGame()</strong> - å¼€å§‹æ¸¸æˆ
					<code>function startGame() {
						log("æ¸¸æˆå¼€å§‹ï¼");

						// é‡ç½®æ¸¸æˆçŠ¶æ€
						phase = 'preparation';
						killCount = 2; // åˆå§‹æ€æ¬¡æ•°
						hasZhugeLianNu = false;
						currentWeapon = null;

						// æ¸…é™¤æ‰‹ç‰Œå’Œå¼ƒç‰Œå †
						hand = [];
						discardPile = [];

						// æ›´æ–°çŠ¶æ€æ˜¾ç¤º
						updateStatus();

						// æ·»åŠ æ¸¸æˆå¼€å§‹åŠ¨ç”»
						const gameArea = document.getElementById('game-area');
						gameArea.classList.add('game-starting');

						// æ˜¾ç¤ºå¼€å§‹åŠ¨ç”»
						setTimeout(() => {
						// æŠ½å–èµ·å§‹æ‰‹ç‰Œï¼ˆ4å¼ ï¼‰
						drawCards(4);

						// è¿›å…¥å‡†å¤‡é˜¶æ®µ
						setPhase('preparation');
						log("å‡†å¤‡é˜¶æ®µï¼Œè¯·ç­‰å¾…...");

						// ç§»é™¤åŠ¨ç”»ç±»
						gameArea.classList.remove('game-starting');
						}, 1500);
						}

						// è®¾ç½®æ¸¸æˆé˜¶æ®µ
						function setPhase(newPhase) {
						phase = newPhase;
						const phaseElement = document.getElementById('phase-indicator');

						// æ›´æ–°é˜¶æ®µæ˜¾ç¤º
						phaseElement.textContent = `å½“å‰é˜¶æ®µ: ${getPhaseName(newPhase)}`;
						phaseElement.className = `phase ${newPhase}`;

						// æ ¹æ®é˜¶æ®µæ›´æ–°æŒ‰é’®çŠ¶æ€
						updateButtonStates();

						log(`è¿›å…¥${getPhaseName(newPhase)}é˜¶æ®µ`);
						}

						// è·å–é˜¶æ®µåç§°
						function getPhaseName(phaseCode) {
						const phases = {
						'preparation': 'å‡†å¤‡',
						'draw': 'æ‘¸ç‰Œ',
						'play': 'å‡ºç‰Œ',
						'discard': 'å¼ƒç‰Œ',
						'end': 'ç»“æŸ'
						};
						return phases[phaseCode] || phaseCode;
						}

						// æ›´æ–°æŒ‰é’®çŠ¶æ€
						function updateButtonStates() {
						const drawBtn = document.getElementById('drawBtn');
						const endBtn = document.getElementById('endBtn');

						// æ ¹æ®é˜¶æ®µå¯ç”¨/ç¦ç”¨æŒ‰é’®
						drawBtn.disabled = phase !== 'draw';
						endBtn.disabled = phase !== 'play';

						// æ·»åŠ è§†è§‰åé¦ˆ
						if (phase === 'draw') {
						drawBtn.classList.add('phase-active');
						} else {
						drawBtn.classList.remove('phase-active');
						}
						}</code>
				</div>
			</div>
			<div class="function-description">
				åˆå§‹åŒ–æ¸¸æˆçŠ¶æ€ï¼Œè¿›å…¥å‡†å¤‡é˜¶æ®µï¼ŒæŠ½å–èµ·å§‹æ‰‹ç‰Œã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>æ¸¸æˆé˜¶æ®µCSS</strong>
						<code>/* æ¸¸æˆåŒºåŸŸå¼€å§‹åŠ¨ç”» */
							.game-starting {
							position: relative;
							overflow: hidden;
							}

							.game-starting::before {
							content: '';
							position: absolute;
							top: 0;
							left: 0;
							right: 0;
							bottom: 0;
							background: linear-gradient(45deg, #ff5722, #ff9800, #ffeb3b, #4caf50);
							z-index: 100;
							animation: gameStartGradient 1.5s ease-in-out forwards;
							opacity: 0.8;
							}

							@keyframes gameStartGradient {
							0% {
							transform: scale(0) rotate(0deg);
							opacity: 0;
							}
							50% {
							transform: scale(2) rotate(180deg);
							opacity: 0.9;
							}
							100% {
							transform: scale(4) rotate(360deg);
							opacity: 0;
							}
							}

							/* é˜¶æ®µæŒ‡ç¤ºå™¨ */
							.phase {
							display: inline-block;
							padding: 6px 12px;
							border-radius: 20px;
							font-weight: bold;
							margin: 10px 0;
							transition: all 0.3s ease;
							box-shadow: 0 2px 5px rgba(0,0,0,0.1);
							}

							/* ä¸åŒé˜¶æ®µçš„é¢œè‰² */
							.phase.preparation {
							background: #2196F3;
							color: white;
							}

							.phase.draw {
							background: #4CAF50;
							color: white;
							}

							.phase.play {
							background: #FF9800;
							color: white;
							}

							.phase.discard {
							background: #F44336;
							color: white;
							}

							.phase.end {
							background: #9C27B0;
							color: white;
							}

							/* é˜¶æ®µæŒ‰é’® */
							.phase-button {
							padding: 8px 16px;
							border-radius: 4px;
							font-weight: bold;
							cursor: pointer;
							transition: all 0.2s;
							margin: 0 5px;
							border: none;
							box-shadow: 0 2px 4px rgba(0,0,0,0.2);
							}

							/* æ¿€æ´»é˜¶æ®µçš„æŒ‰é’® */
							.phase-active {
							transform: scale(1.05);
							box-shadow: 0 0 15px rgba(255, 193, 7, 0.8);
							animation: pulse 1.5s infinite;
							}

							@keyframes pulse {
							0% {
							box-shadow: 0 0 0 0 rgba(255, 193, 7, 0.7);
							}
							70% {
							box-shadow: 0 0 0 12px rgba(255, 193, 7, 0);
							}
							100% {
							box-shadow: 0 0 0 0 rgba(255, 193, 7, 0);
							}
							}

							/* ç¦ç”¨æŒ‰é’®æ ·å¼ */
							.phase-button:disabled {
							opacity: 0.5;
							cursor: not-allowed;
							transform: none;
							box-shadow: none;
							animation: none;
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>å¤šé˜¶æ®µæ¸¸æˆçŠ¶æ€ç®¡ç†ï¼ˆå‡†å¤‡ã€æ‘¸ç‰Œã€å‡ºç‰Œã€å¼ƒç‰Œã€ç»“æŸï¼‰</li>
					<li>åŠ¨æ€æŒ‰é’®çŠ¶æ€æ§åˆ¶ï¼ˆæ ¹æ®é˜¶æ®µå¯ç”¨/ç¦ç”¨æŒ‰é’®ï¼‰</li>
					<li>è§†è§‰åé¦ˆç³»ç»Ÿï¼ˆé˜¶æ®µæŒ‡ç¤ºå™¨é¢œè‰²å˜åŒ–ï¼‰</li>
					<li>æ¸¸æˆå¼€å§‹åŠ¨ç”»å¢å¼ºç”¨æˆ·ä½“éªŒ</li>
					<li>è„‰å†²åŠ¨ç”»æ•ˆæœæç¤ºå½“å‰å¯æ“ä½œé˜¶æ®µ</li>
				</ul>
			</div>
		</div>

		<div class="function-item">
			<div class="function-name">
				drawPhase()
				<div class="function-tooltip">
					<strong>drawPhase()</strong> - è¿›å…¥æ‘¸ç‰Œé˜¶æ®µ
					<code>function drawPhase() {
						// ç¡®ä¿åœ¨æ­£ç¡®çš„é˜¶æ®µ
						if (phase !== 'preparation') {
						log("æ— æ³•è¿›å…¥æ‘¸ç‰Œé˜¶æ®µï¼šå½“å‰é˜¶æ®µé”™è¯¯");
						return;
						}

						log("è¿›å…¥æ‘¸ç‰Œé˜¶æ®µ...");
						setPhase('draw');

						// æ·»åŠ é˜¶æ®µåŠ¨ç”»æ•ˆæœ
						const phaseIndicator = document.getElementById('phase-indicator');
						phaseIndicator.classList.add('phase-transition');

						// æŠ½å–3å¼ ç‰Œ
						setTimeout(() => {
						drawCards(3);

						// æ›´æ–°é˜¶æ®µæŒ‰é’®çŠ¶æ€
						updateButtonStates();

						// è¿›å…¥å‡ºç‰Œé˜¶æ®µ
						setTimeout(() => {
						setPhase('play');
						log("æ‘¸ç‰Œå®Œæˆï¼Œè¿›å…¥å‡ºç‰Œé˜¶æ®µ");
						phaseIndicator.classList.remove('phase-transition');
						}, 1000);
						}, 500);

						// æ›´æ–°çŠ¶æ€æ˜¾ç¤º
						updateStatus();
						}</code>
				</div>
			</div>
			<div class="function-description">
				è¿›å…¥æ‘¸ç‰Œé˜¶æ®µï¼ŒæŠ½å–3å¼ ç‰Œå¹¶æ›´æ–°æ¸¸æˆé˜¶æ®µçŠ¶æ€ã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>é˜¶æ®µæŒ‰é’®CSS</strong>
						<code>/* æ‘¸ç‰Œé˜¶æ®µæŒ‰é’® */
							#drawBtn {
							background: linear-gradient(to bottom, #4CAF50, #2E7D32);
							color: white;
							border: none;
							padding: 10px 20px;
							border-radius: 4px;
							font-weight: bold;
							cursor: pointer;
							transition: all 0.3s ease;
							box-shadow: 0 3px 6px rgba(0,0,0,0.16);
							position: relative;
							overflow: hidden;
							}

							#drawBtn:hover:not(:disabled) {
							transform: translateY(-2px);
							box-shadow: 0 6px 12px rgba(0,0,0,0.2);
							background: linear-gradient(to bottom, #66BB6A, #388E3C);
							}

							#drawBtn:active:not(:disabled) {
							transform: translateY(1px);
							box-shadow: 0 2px 4px rgba(0,0,0,0.2);
							}

							#drawBtn:disabled {
							opacity: 0.5;
							cursor: not-allowed;
							background: linear-gradient(to bottom, #A5D6A7, #81C784);
							}

							/* æŒ‰é’®æ³¢çº¹æ•ˆæœ */
							#drawBtn::after {
							content: '';
							position: absolute;
							top: 50%;
							left: 50%;
							width: 0;
							height: 0;
							background: rgba(255, 255, 255, 0.3);
							border-radius: 50%;
							transform: translate(-50%, -50%);
							opacity: 0;
							}

							#drawBtn:active:not(:disabled)::after {
							animation: ripple 0.6s linear;
							}

							@keyframes ripple {
							0% {
							width: 0;
							height: 0;
							opacity: 1;
							}
							100% {
							width: 300px;
							height: 300px;
							opacity: 0;
							}
							}

							/* é˜¶æ®µè¿‡æ¸¡åŠ¨ç”» */
							.phase-transition {
							animation: phaseTransition 1s ease-in-out;
							}

							@keyframes phaseTransition {
							0% {
							transform: scale(1);
							box-shadow: 0 0 0 rgba(76, 175, 80, 0);
							}
							50% {
							transform: scale(1.1);
							box-shadow: 0 0 20px rgba(76, 175, 80, 0.7);
							}
							100% {
							transform: scale(1);
							box-shadow: 0 0 0 rgba(76, 175, 80, 0);
							}
							}

							/* æŒ‰é’®å›¾æ ‡ */
							#drawBtn::before {
							content: 'ğŸƒ';
							margin-right: 8px;
							font-size: 18px;
							}

							/* æŒ‰é’®çŠ¶æ€æç¤º */
							#drawBtn.active-phase {
							animation: pulse 1.5s infinite;
							border: 2px solid #FFEB3B;
							}

							@keyframes pulse {
							0% {
							box-shadow: 0 0 0 0 rgba(255, 235, 59, 0.7);
							}
							70% {
							box-shadow: 0 0 0 10px rgba(255, 235, 59, 0);
							}
							100% {
							box-shadow: 0 0 0 0 rgba(255, 235, 59, 0);
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>é˜¶æ®µéªŒè¯æœºåˆ¶ç¡®ä¿æ­£ç¡®çš„æ¸¸æˆæµç¨‹</li>
					<li>æŒ‰é’®çŠ¶æ€ç®¡ç†ï¼ˆæ­£å¸¸/ç¦ç”¨/æ¿€æ´»çŠ¶æ€ï¼‰</li>
				</ul>
			</div>
		</div>

		<!-- 3. å¡ç‰Œä½¿ç”¨æœºåˆ¶ -->
		<div class="function-item">
			<div class="function-name">
				useCard(card, index)
				<div class="function-tooltip">
					<strong>useCard(card, index)</strong> - ä½¿ç”¨å¡ç‰Œ
					<code>function useCard(card, index) {
						// æ£€æŸ¥æ˜¯å¦åœ¨å‡ºç‰Œé˜¶æ®µ
						if (phase !== 'play') {
						log(`å½“å‰æ˜¯${getPhaseName(phase)}é˜¶æ®µï¼Œä¸èƒ½å‡ºç‰Œ`);
						return;
						}

						// æ£€æŸ¥å¡ç‰Œæ˜¯å¦å¯ç”¨
						if (card.disabled) {
						log(`${card.name} å·²è¢«ç¦ç”¨ï¼Œæ— æ³•ä½¿ç”¨`);
						return;
						}

						log(`ä½¿ç”¨å¡ç‰Œ: ${card.name} (${card.suit}${card.point})`);

						// æ ¹æ®å¡ç‰Œç±»å‹æ‰§è¡Œä¸åŒæ•ˆæœ
						switch (card.name) {
						case 'æ€':
						handleKillCard(card);
						break;
						case 'é—ª':
						handleDodgeCard(card);
						break;
						case 'æ¡ƒ':
						handlePeachCard(card);
						break;
						case 'é…’':
						handleWineCard(card);
						break;
						case 'è¯¸è‘›è¿å¼©':
						handleZhugeLianNu(card);
						break;
						// å…¶ä»–å¡ç‰Œç±»å‹...
						default:
						handleGenericCard(card);
						}

						// ä»æ‰‹ç‰Œä¸­ç§»é™¤
						hand.splice(index, 1);

						// æ·»åŠ åˆ°å¼ƒç‰Œå †
						discardPile.push(card);

						// æ›´æ–°UI
						updateHandDisplay();
						updateDiscardDisplay();

						// æ·»åŠ ä½¿ç”¨åŠ¨ç”»
						animateCardUse(card);

						// è®°å½•æœ€åä½¿ç”¨çš„å¡ç‰Œ
						lastUsedCard = card;

						// æ›´æ–°æ€æ¬¡æ•°
						if (card.name === 'æ€') {
						killCount--;
						updateStatus();
						}

						// æ£€æŸ¥æ¸¸æˆç»“æŸæ¡ä»¶
						checkGameEnd();
						}

						// å¤„ç†æ€ç‰Œ
						function handleKillCard(card) {
						if (killCount <= 0 && !hasZhugeLianNu) { log("æ€æ¬¡æ•°å·²ç”¨å®Œï¼Œæ— æ³•ä½¿ç”¨æ€"); return; } log("â˜… ä½¿ç”¨æ€ï¼Œå¯¹ç›®æ ‡é€ æˆ1ç‚¹ä¼¤å®³");
							// å®é™…æ¸¸æˆé€»è¾‘ï¼šé€‰æ‹©ç›®æ ‡å¹¶é€ æˆä¼¤å®³ } // å¤„ç†é—ªç‰Œ function handleDodgeCard(card) { log("â˜… ä½¿ç”¨é—ªï¼ŒæŠµæ¶ˆä¸€æ¬¡æ€çš„æ”»å‡»"); //
							å®é™…æ¸¸æˆé€»è¾‘ï¼šæŠµæ¶ˆæ”»å‡» } // å¤„ç†æ¡ƒç‰Œ function handlePeachCard(card) { log("â˜… ä½¿ç”¨æ¡ƒï¼Œå›å¤1ç‚¹ä½“åŠ›"); // å®é™…æ¸¸æˆé€»è¾‘ï¼šå›å¤ä½“åŠ›
							peachCount--; updateRemaining(); } // å¤„ç†é…’ç‰Œ function handleWineCard(card) { log("â˜…
							ä½¿ç”¨é…’ï¼Œæœ¬å›åˆæ€ä¼¤å®³+1"); // å®é™…æ¸¸æˆé€»è¾‘ï¼šå¢åŠ æ€ä¼¤å®³ wineCount--; updateRemaining(); } // å¤„ç†è¯¸è‘›è¿å¼© function
							handleZhugeLianNu(card) { log("â˜… è£…å¤‡è¯¸è‘›è¿å¼©ï¼Œæ€æ¬¡æ•°ä¸Šé™+1"); hasZhugeLianNu=true; currentWeapon=card;
							updateStatus(); } // å¡ç‰Œä½¿ç”¨åŠ¨ç”» function animateCardUse(card) { const
							cardElement=document.querySelector(`.card[data-uid="${card.uid}" ]`); if (!cardElement)
							return; // æ·»åŠ ä½¿ç”¨åŠ¨ç”»ç±» cardElement.classList.add('card-used'); // åˆ›å»ºåŠ¨ç”»å‰¯æœ¬ const
							clone=cardElement.cloneNode(true); clone.classList.add('card-use-animation');
							clone.style.position='fixed' ; clone.style.zIndex='1000' ; // æ·»åŠ åˆ°åŠ¨ç”»å®¹å™¨ const
							animationContainer=document.getElementById('animation-container');
							animationContainer.appendChild(clone); // è·å–ç›®æ ‡ä½ç½®ï¼ˆå¼ƒç‰Œå †ï¼‰ const
							discardPile=document.getElementById('discard-pile'); const
							targetRect=discardPile.getBoundingClientRect(); // åŠ¨ç”»æ•ˆæœ anime({ targets: clone, top:
							targetRect.top + 'px' , left: targetRect.left + 'px' , scale: 0.5, opacity: 0, duration:
							800, easing: 'easeInOutQuad' , complete: ()=> {
							clone.remove();
							}
							});

							// ç§»é™¤åŸå§‹å…ƒç´ çš„åŠ¨ç”»ç±»
							setTimeout(() => {
							cardElement.classList.remove('card-used');
							}, 300);
							}</code>
				</div>
			</div>
			<div class="function-description">
				å¤„ç†å¡ç‰Œä½¿ç”¨é€»è¾‘ï¼ŒåŒ…æ‹¬æ€ã€é—ªã€æ¡ƒç­‰åŸºæœ¬ç‰Œå’Œé”¦å›Šç‰Œçš„æ•ˆæœã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>å¡ç‰Œä½¿ç”¨çŠ¶æ€CSS</strong>
						<code>/* å¡ç‰Œä½¿ç”¨çŠ¶æ€ */
							.card-used {
							transform: scale(0.9);
							opacity: 0.7;
							filter: grayscale(80%);
							transition: all 0.3s ease;
							}

							/* å¡ç‰Œä½¿ç”¨åŠ¨ç”» */
							.card-use-animation {
							animation: cardUse 0.8s ease-in-out forwards;
							box-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
							z-index: 1000;
							}

							@keyframes cardUse {
							0% {
							transform: scale(1);
							opacity: 1;
							filter: none;
							}
							50% {
							transform: scale(1.2) rotate(10deg);
							box-shadow: 0 0 30px rgba(255, 87, 34, 0.8);
							filter: brightness(1.5);
							}
							100% {
							transform: scale(0.5) rotate(20deg);
							opacity: 0;
							}
							}

							/* ä¸åŒç±»å‹å¡ç‰Œçš„ç‰¹æ®Šæ•ˆæœ */
							.card[data-card-type="kill"] {
							border: 2px solid #f44336;
							}

							.card[data-card-type="dodge"] {
							border: 2px solid #2196F3;
							}

							.card[data-card-type="peach"] {
							border: 2px solid #4CAF50;
							}

							.card[data-card-type="wine"] {
							border: 2px solid #FF9800;
							}

							.card[data-card-type="weapon"] {
							border: 2px solid #9C27B0;
							}

							/* å¡ç‰Œç¦ç”¨çŠ¶æ€ */
							.card.disabled {
							opacity: 0.5;
							filter: grayscale(100%);
							cursor: not-allowed;
							}

							/* å¡ç‰Œæ‚¬åœæ•ˆæœ */
							.card:not(.disabled):hover {
							transform: translateY(-5px);
							box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
							z-index: 10;
							}

							/* ç‰¹æ®Šå¡ç‰Œæ‚¬åœæ•ˆæœ */
							.card[data-card-type="kill"]:hover {
							box-shadow: 0 8px 15px rgba(244, 67, 54, 0.3);
							}

							.card[data-card-type="dodge"]:hover {
							box-shadow: 0 8px 15px rgba(33, 150, 243, 0.3);
							}

							/* å¡ç‰Œæ¿€æ´»æ•ˆæœ */
							.card.active {
							animation: cardPulse 1.5s infinite;
							border: 2px solid #FFEB3B;
							}

							@keyframes cardPulse {
							0% {
							box-shadow: 0 0 0 0 rgba(255, 235, 59, 0.7);
							}
							70% {
							box-shadow: 0 0 0 10px rgba(255, 235, 59, 0);
							}
							100% {
							box-shadow: 0 0 0 0 rgba(255, 235, 59, 0);
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>å¤šç±»å‹å¡ç‰Œå¤„ç†æœºåˆ¶ï¼ˆæ€ã€é—ªã€æ¡ƒã€é…’ã€æ­¦å™¨ç­‰ï¼‰</li>
					<li>ä½¿ç”¨CSSå˜é‡å®ç°å¡ç‰Œç±»å‹å·®å¼‚åŒ–æ ·å¼</li>
					<li>æ¸¸æˆé˜¶æ®µéªŒè¯ç¡®ä¿æ­£ç¡®çš„å‡ºç‰Œæ—¶æœº</li>
					<li>å¡ç‰ŒçŠ¶æ€ç®¡ç†ï¼ˆæ­£å¸¸/ç¦ç”¨/æ¿€æ´»çŠ¶æ€ï¼‰</li>
					<li>å¡ç‰Œä½¿ç”¨åçš„æ¸¸æˆçŠ¶æ€æ›´æ–°</li>
				</ul>
			</div>
		</div>

		<!-- è¾…åŠ©åŠŸèƒ½ç³»ç»Ÿ -->
		<div class="function-category">äºŒã€è¾…åŠ©åŠŸèƒ½ç³»ç»Ÿ</div>

		<!-- 1. è®°ç‰Œå™¨åŠŸèƒ½ -->
		<div class="function-item">
			<div class="function-name">
				updateRemainingCounts()
				<div class="function-tooltip">
					<strong>updateRemainingCounts()</strong> - æ›´æ–°è®°ç‰Œå™¨
					<code>function updateRemainingCounts() {
						// é‡ç½®è®¡æ•°å™¨
						const counts = {
						'æ€': 0,
						'é—ª': 0,
						'æ¡ƒ': 0,
						'é…’': 0,
						'è¯¸è‘›è¿å¼©': 0,
						'ä¸‡ç®­é½å‘': 0,
						'å—è›®å…¥ä¾µ': 0,
						'é¡ºæ‰‹ç‰µç¾Š': 0,
						'è¿‡æ²³æ‹†æ¡¥': 0
						};

						// ç»Ÿè®¡ç‰Œå †ä¸­å„ç±»å¡ç‰Œæ•°é‡
						deck.forEach(card => {
						if (counts.hasOwnProperty(card.name)) {
						counts[card.name]++;
						}
						});

						// æ›´æ–°UIæ˜¾ç¤º
						const container = document.getElementById('remaining-counts');
						container.innerHTML = '';

						// æŒ‰ç±»åˆ«åˆ†ç»„æ˜¾ç¤º
						const categories = {
						'åŸºæœ¬ç‰Œ': ['æ€', 'é—ª', 'æ¡ƒ', 'é…’'],
						'è£…å¤‡ç‰Œ': ['è¯¸è‘›è¿å¼©'],
						'é”¦å›Šç‰Œ': ['ä¸‡ç®­é½å‘', 'å—è›®å…¥ä¾µ', 'é¡ºæ‰‹ç‰µç¾Š', 'è¿‡æ²³æ‹†æ¡¥']
						};

						// åˆ›å»ºç±»åˆ«åˆ†ç»„
						for (const [category, cards] of Object.entries(categories)) {
						const categoryDiv = document.createElement('div');
						categoryDiv.className = 'count-category';

						const header = document.createElement('h3');
						header.textContent = category;
						categoryDiv.appendChild(header);

						const cardList = document.createElement('div');
						cardList.className = 'count-list';

						cards.forEach(cardName => {
						const countItem = document.createElement('div');
						countItem.className = 'count-item';

						const nameSpan = document.createElement('span');
						nameSpan.className = 'card-name';
						nameSpan.textContent = cardName;

						const countSpan = document.createElement('span');
						countSpan.className = 'card-count';
						countSpan.textContent = counts[cardName];

						// æ·»åŠ ç‰¹æ®Šæ ·å¼
						if (counts[cardName] === 0) {
						countSpan.classList.add('zero-count');
						}

						countItem.appendChild(nameSpan);
						countItem.appendChild(countSpan);
						cardList.appendChild(countItem);
						});

						categoryDiv.appendChild(cardList);
						container.appendChild(categoryDiv);
						}

						// æ·»åŠ æŠ˜å /å±•å¼€åŠŸèƒ½
						const toggleBtn = document.createElement('button');
						toggleBtn.id = 'toggleCounts';
						toggleBtn.textContent = 'æ”¶èµ·è®°ç‰Œå™¨';
						toggleBtn.addEventListener('click', () => {
						container.classList.toggle('collapsed');
						toggleBtn.textContent = container.classList.contains('collapsed') ?
						'å±•å¼€è®°ç‰Œå™¨' : 'æ”¶èµ·è®°ç‰Œå™¨';
						});

						container.parentNode.insertBefore(toggleBtn, container);

						log("è®°ç‰Œå™¨å·²æ›´æ–°");
						}</code>
				</div>
			</div>
			<div class="function-description">
				ç»Ÿè®¡å¹¶æ˜¾ç¤ºå„ç±»å¡ç‰Œçš„å‰©ä½™æ•°é‡ï¼ŒæŒ‰ç±»åˆ«åˆ†ç»„å±•ç¤ºã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>è®°ç‰Œå™¨CSS</strong>
						<code>/* è®°ç‰Œå™¨å®¹å™¨ */
							#remaining-counts {
							background: #fffde7;
							border: 2px solid #ffd54f;
							border-radius: 8px;
							padding: 15px;
							margin: 15px 0;
							transition: all 0.3s ease;
							overflow: hidden;
							}

							/* æŠ˜å çŠ¶æ€ */
							#remaining-counts.collapsed {
							max-height: 0;
							padding: 0;
							border: none;
							opacity: 0;
							}

							/* ç±»åˆ«æ ‡é¢˜ */
							.count-category h3 {
							color: #5d4037;
							margin: 10px 0 5px;
							padding-bottom: 5px;
							border-bottom: 1px dashed #ffd54f;
							font-size: 16px;
							}

							/* å¡ç‰‡åˆ—è¡¨ */
							.count-list {
							display: flex;
							flex-wrap: wrap;
							gap: 10px;
							margin-bottom: 15px;
							}

							/* å•å¼ å¡ç‰‡è®¡æ•° */
							.count-item {
							display: flex;
							align-items: center;
							background: #fff8e1;
							border: 1px solid #ffd54f;
							border-radius: 4px;
							padding: 6px 12px;
							min-width: 100px;
							transition: all 0.2s ease;
							}

							.count-item:hover {
							transform: translateY(-2px);
							box-shadow: 0 3px 6px rgba(0,0,0,0.1);
							background: #ffecb3;
							}

							/* å¡ç‰‡åç§° */
							.card-name {
							flex: 1;
							font-weight: bold;
							color: #5d4037;
							}

							/* å¡ç‰‡æ•°é‡ */
							.card-count {
							background: #ffd54f;
							color: #5d4037;
							font-weight: bold;
							width: 30px;
							height: 30px;
							border-radius: 50%;
							display: flex;
							align-items: center;
							justify-content: center;
							margin-left: 8px;
							transition: all 0.3s ease;
							}

							/* é›¶å¼ ç‰¹æ®Šæ ·å¼ */
							.card-count.zero-count {
							background: #ffcdd2;
							color: #c62828;
							animation: pulseWarning 1.5s infinite;
							}

							@keyframes pulseWarning {
							0% {
							box-shadow: 0 0 0 0 rgba(198, 40, 40, 0.4);
							}
							70% {
							box-shadow: 0 0 0 8px rgba(198, 40, 40, 0);
							}
							100% {
							box-shadow: 0 0 0 0 rgba(198, 40, 40, 0);
							}
							}

							/* æŠ˜å æŒ‰é’® */
							#toggleCounts {
							background: #ffd54f;
							color: #5d4037;
							border: none;
							border-radius: 4px;
							padding: 6px 12px;
							cursor: pointer;
							font-weight: bold;
							transition: all 0.2s ease;
							margin-bottom: 10px;
							}

							#toggleCounts:hover {
							background: #ffc107;
							transform: translateY(-2px);
							box-shadow: 0 3px 6px rgba(0,0,0,0.1);
							}

							#toggleCounts:active {
							transform: translateY(0);
							}

							/* å“åº”å¼å¸ƒå±€ */
							@media (max-width: 768px) {
							.count-list {
							gap: 8px;
							}

							.count-item {
							min-width: 85px;
							padding: 5px 8px;
							font-size: 14px;
							}

							.card-count {
							width: 25px;
							height: 25px;
							font-size: 14px;
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>åŠ¨æ€ç»Ÿè®¡ç‰Œå †ä¸­å„ç±»å¡ç‰Œæ•°é‡</li>
					<li>æŒ‰ç±»åˆ«åˆ†ç»„å±•ç¤ºï¼ˆåŸºæœ¬ç‰Œã€è£…å¤‡ç‰Œã€é”¦å›Šç‰Œï¼‰</li>
					<li>æŠ˜å /å±•å¼€åŠŸèƒ½èŠ‚çœç•Œé¢ç©ºé—´</li>
					<li>æ‚¬åœæ•ˆæœå¢å¼ºäº¤äº’ä½“éªŒ</li>
					<li>å“åº”å¼è®¾è®¡é€‚åº”ä¸åŒå±å¹•å°ºå¯¸</li>
				</ul>
			</div>
		</div>

		<!-- 2. æ“ä½œæ—¥å¿—ç³»ç»Ÿ -->
		<div class="function-item">
			<div class="function-name">
				log(message)
				<div class="function-tooltip">
					<strong>log(message)</strong> - è®°å½•æ“ä½œæ—¥å¿—
					<code>function log(message, type = 'info') {
						const logContainer = document.getElementById('log');
						const now = new Date();

						// æ ¼å¼åŒ–æ—¶é—´ HH:mm:ss
						const timeStr = now.toTimeString().substring(0, 8);

						// åˆ›å»ºæ—¥å¿—æ¡ç›®
						const logEntry = document.createElement('div');
						logEntry.className = `log-entry log-${type}`;

						// æ·»åŠ æ—¶é—´æˆ³
						const timestamp = document.createElement('span');
						timestamp.className = 'log-timestamp';
						timestamp.textContent = `[${timeStr}] `;
						logEntry.appendChild(timestamp);

						// æ·»åŠ æ¶ˆæ¯å†…å®¹
						const content = document.createElement('span');
						content.className = 'log-content';
						content.textContent = message;
						logEntry.appendChild(content);

						// æ·»åŠ åˆ°æ—¥å¿—å®¹å™¨
						logContainer.appendChild(logEntry);

						// è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨
						logContainer.scrollTop = logContainer.scrollHeight;

						// æ·»åŠ åŠ¨ç”»æ•ˆæœ
						logEntry.style.opacity = '0';
						setTimeout(() => {
						logEntry.style.transition = 'opacity 0.3s ease';
						logEntry.style.opacity = '1';
						}, 10);

						// ç‰¹æ®Šç±»å‹æ—¥å¿—çš„é¢å¤–å¤„ç†
						if (type === 'warning' || type === 'error') {
						logEntry.classList.add('log-highlight');
						animateLogHighlight(logEntry);
						}
						}

						// æ—¥å¿—é«˜äº®åŠ¨ç”»
						function animateLogHighlight(element) {
						element.animate([
						{ backgroundColor: 'transparent' },
						{ backgroundColor: '#fff9c4', offset: 0.5 },
						{ backgroundColor: 'transparent' }
						], {
						duration: 2000,
						iterations: 1
						});
						}</code>
				</div>
			</div>
			<div class="function-description">
				æ·»åŠ å¸¦æ—¶é—´æˆ³çš„æ“ä½œæ—¥å¿—æ¡ç›®åˆ°æ—¥å¿—å®¹å™¨ã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>æ—¥å¿—å®¹å™¨CSS</strong>
						<code>/* æ—¥å¿—å®¹å™¨ */
							#log {
							max-height: 300px;
							overflow-y: auto;
							padding: 10px;
							background: #f5f5f5;
							border: 1px solid #e0e0e0;
							border-radius: 6px;
							font-family: 'Consolas', 'Monaco', monospace;
							font-size: 14px;
							line-height: 1.5;
							margin-top: 15px;
							}

							/* æ»šåŠ¨æ¡æ ·å¼ */
							#log::-webkit-scrollbar {
							width: 8px;
							}

							#log::-webkit-scrollbar-track {
							background: #f1f1f1;
							border-radius: 4px;
							}

							#log::-webkit-scrollbar-thumb {
							background: #bdbdbd;
							border-radius: 4px;
							}

							#log::-webkit-scrollbar-thumb:hover {
							background: #9e9e9e;
							}

							/* æ—¥å¿—æ¡ç›® */
							.log-entry {
							padding: 8px 12px;
							margin-bottom: 6px;
							border-radius: 4px;
							transition: all 0.3s ease;
							animation: fadeIn 0.3s ease;
							}

							@keyframes fadeIn {
							from { opacity: 0; }
							to { opacity: 1; }
							}

							/* ä¸åŒæ—¥å¿—ç±»å‹ */
							.log-info {
							background: #e3f2fd;
							border-left: 4px solid #2196F3;
							}

							.log-warning {
							background: #fff8e1;
							border-left: 4px solid #FFC107;
							}

							.log-error {
							background: #ffebee;
							border-left: 4px solid #F44336;
							}

							/* æ—¶é—´æˆ³æ ·å¼ */
							.log-timestamp {
							color: #616161;
							font-weight: bold;
							margin-right: 8px;
							}

							/* æ—¥å¿—å†…å®¹ */
							.log-content {
							color: #212121;
							}

							/* é«˜äº®æ—¥å¿— */
							.log-highlight {
							animation: highlightPulse 2s ease-in-out;
							}

							@keyframes highlightPulse {
							0% {
							box-shadow: 0 0 0 0 rgba(255, 193, 7, 0.7);
							}
							50% {
							box-shadow: 0 0 0 8px rgba(255, 193, 7, 0);
							}
							100% {
							box-shadow: 0 0 0 0 rgba(255, 193, 7, 0);
							}
							}

							/* æ—¥å¿—åˆ†éš”çº¿ */
							.log-entry:not(:last-child) {
							border-bottom: 1px dashed #e0e0e0;
							}

							/* å“åº”å¼è®¾è®¡ */
							@media (max-width: 768px) {
							#log {
							max-height: 200px;
							font-size: 13px;
							}

							.log-entry {
							padding: 6px 8px;
							}

							.log-timestamp {
							display: block;
							margin-bottom: 4px;
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>å¸¦æ—¶é—´æˆ³çš„æ—¥å¿—è®°å½•ï¼ˆHH:mm:ssæ ¼å¼ï¼‰</li>
					<li>å¤šçº§æ—¥å¿—ç±»å‹æ”¯æŒï¼ˆä¿¡æ¯/è­¦å‘Š/é”™è¯¯ï¼‰</li>
					<li>è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨ç¡®ä¿æœ€æ–°æ—¥å¿—å¯è§</li>
					<li>è­¦å‘Šå’Œé”™è¯¯æ—¥å¿—é«˜äº®è„‰å†²æ•ˆæœ</li>
					<li>å“åº”å¼è®¾è®¡é€‚é…ç§»åŠ¨è®¾å¤‡</li>
					<li>è‡ªå®šä¹‰æ»šåŠ¨æ¡æå‡è§†è§‰ä½“éªŒ</li>
				</ul>
			</div>
		</div>


		<!-- 3. è„šæ°”å¡åŠŸèƒ½ -->
		<div class="function-item">
			<div class="function-name">
				handleReshuffle()
				<div class="function-tooltip">
					<strong>handleReshuffle()</strong> - è„šæ°”å¡åŠŸèƒ½
					<code>function handleReshuffle() {
						// æ£€æŸ¥æ‰‹ç‰Œæ•°é‡
						if (hand.length < 4) { log("æ‰‹ç‰Œä¸è¶³4å¼ ï¼Œæ— æ³•ä½¿ç”¨è„šæ°”å¡"); return; } log("ä½¿ç”¨è„šæ°”å¡..."); // æ·»åŠ åŠ¨ç”»æ•ˆæœ const
							handArea=document.getElementById('hand'); handArea.classList.add('reshuffling'); // è·å–æœ€å4å¼ æ‰‹ç‰Œ
							const cardsToReshuffle=hand.slice(-4); // åˆ›å»ºå›æ”¶åŠ¨ç”» animateReshuffle(cardsToReshuffle); //
							å»¶è¿Ÿæ‰§è¡Œå®é™…é€»è¾‘ setTimeout(()=> {
							// ä»æ‰‹ç‰Œä¸­ç§»é™¤æœ€å4å¼ 
							hand.splice(-4, 4);

							// æ·»åŠ åˆ°å¼ƒç‰Œå †
							discardPile.push(...cardsToReshuffle);

							// é‡æ–°æ´—ç‰Œ
							shuffleDeck();

							// æŠ½å–4å¼ æ–°ç‰Œ
							drawCards(4);

							// æ›´æ–°æ˜¾ç¤º
							updateHandDisplay();
							updateDiscardDisplay();

							// ç§»é™¤åŠ¨ç”»ç±»
							handArea.classList.remove('reshuffling');

							log("è„šæ°”å¡ä½¿ç”¨å®Œæˆï¼šå›æ”¶4å¼ ç‰Œï¼Œé‡æ–°æ´—ç‰Œå¹¶æŠ½å–4å¼ æ–°ç‰Œ");
							}, 1500);
							}

							// è„šæ°”å¡åŠ¨ç”»æ•ˆæœ
							function animateReshuffle(cards) {
							const animationContainer = document.getElementById('animation-container');

							cards.forEach((card, index) => {
							// æ‰¾åˆ°å¯¹åº”çš„å¡ç‰Œå…ƒç´ 
							const cardElement = document.querySelector(`.card[data-uid="${card.uid}"]`);
							if (!cardElement) return;

							// åˆ›å»ºåŠ¨ç”»å‰¯æœ¬
							const clone = cardElement.cloneNode(true);
							clone.classList.add('reshuffle-animation');
							clone.style.position = 'fixed';
							clone.style.zIndex = '1000';

							// è®¾ç½®åˆå§‹ä½ç½®
							const rect = cardElement.getBoundingClientRect();
							clone.style.left = `${rect.left}px`;
							clone.style.top = `${rect.top}px`;

							animationContainer.appendChild(clone);

							// åŠ¨ç”»æ•ˆæœ
							anime({
							targets: clone,
							translateX: [0, -100 + index * 50],
							translateY: [0, -200],
							rotate: [0, 360],
							scale: [1, 1.5],
							opacity: [1, 0],
							duration: 1200,
							delay: index * 100,
							easing: 'easeInOutQuad',
							complete: () => {
							clone.remove();
							}
							});
							});
							}</code>
				</div>
			</div>
			<div class="function-description">
				ä½¿ç”¨è„šæ°”å¡åŠŸèƒ½ï¼Œå›æ”¶æœ€å4å¼ æ‰‹ç‰Œï¼Œé‡æ–°æ´—ç‰Œå¹¶æŠ½å–æ–°ç‰Œã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>è„šæ°”å¡æŒ‰é’®CSS</strong>
						<code>/* è„šæ°”å¡æŒ‰é’® */
							#reshuffleBtn {
							background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
							color: white;
							border: none;
							border-radius: 30px;
							padding: 12px 24px;
							font-size: 16px;
							font-weight: bold;
							cursor: pointer;
							transition: all 0.3s ease;
							box-shadow: 0 6px 12px rgba(106, 17, 203, 0.3);
							position: relative;
							overflow: hidden;
							text-transform: uppercase;
							letter-spacing: 1px;
							}

							#reshuffleBtn:hover:not(:disabled) {
							transform: translateY(-3px);
							box-shadow: 0 8px 15px rgba(106, 17, 203, 0.4);
							background: linear-gradient(135deg, #7a21db 0%, #3585ff 100%);
							}

							#reshuffleBtn:active:not(:disabled) {
							transform: translateY(1px);
							box-shadow: 0 3px 6px rgba(106, 17, 203, 0.3);
							}

							#reshuffleBtn:disabled {
							opacity: 0.6;
							cursor: not-allowed;
							}

							/* æŒ‰é’®å‘å…‰æ•ˆæœ */
							#reshuffleBtn::after {
							content: '';
							position: absolute;
							top: -50%;
							left: -50%;
							width: 200%;
							height: 200%;
							background: rgba(255, 255, 255, 0.1);
							transform: rotate(45deg);
							transition: all 0.6s ease;
							}

							#reshuffleBtn:hover:not(:disabled)::after {
							top: -10%;
							left: -10%;
							}

							/* æŒ‰é’®å›¾æ ‡ */
							#reshuffleBtn::before {
							content: 'ğŸ”„';
							margin-right: 8px;
							font-size: 18px;
							}

							/* è„šæ°”å¡åŠ¨ç”» */
							.reshuffle-animation {
							animation: reshuffleFloat 1.2s ease-in-out forwards;
							box-shadow: 0 0 20px rgba(106, 17, 203, 0.7);
							z-index: 1000;
							}

							@keyframes reshuffleFloat {
							0% {
							transform: translate(0, 0) rotate(0deg) scale(1);
							opacity: 1;
							}
							50% {
							transform: translate(0, -100px) rotate(180deg) scale(1.2);
							box-shadow: 0 0 30px rgba(106, 17, 203, 0.9);
							}
							100% {
							transform: translate(0, -200px) rotate(360deg) scale(0.5);
							opacity: 0;
							}
							}

							/* æ‰‹ç‰ŒåŒºåŸŸåŠ¨ç”» */
							#hand.reshuffling {
							position: relative;
							overflow: visible;
							}

							#hand.reshuffling::before {
							content: '';
							position: absolute;
							top: 0;
							left: 0;
							right: 0;
							bottom: 0;
							background: rgba(106, 17, 203, 0.1);
							border-radius: 8px;
							animation: reshuffleGlow 1.5s infinite alternate;
							z-index: -1;
							}

							@keyframes reshuffleGlow {
							from {
							box-shadow: 0 0 10px rgba(106, 17, 203, 0.3);
							}
							to {
							box-shadow: 0 0 30px rgba(106, 17, 203, 0.7);
							}
							}

							/* æŒ‰é’®çŠ¶æ€æç¤º */
							#reshuffleBtn.active-reshuffle {
							animation: reshufflePulse 1.5s infinite;
							}

							@keyframes reshufflePulse {
							0% {
							box-shadow: 0 0 0 0 rgba(106, 17, 203, 0.7);
							}
							70% {
							box-shadow: 0 0 0 15px rgba(106, 17, 203, 0);
							}
							100% {
							box-shadow: 0 0 0 0 rgba(106, 17, 203, 0);
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>æ‰‹ç‰Œæ•°é‡éªŒè¯ç¡®ä¿åŠŸèƒ½å¯ç”¨æ€§</li>
					<li>ä½¿ç”¨anime.jså®ç°æµç•…çš„å¡ç‰Œå›æ”¶åŠ¨ç”»</li>
					<li>æ¸å˜èƒŒæ™¯å’Œé˜´å½±åˆ›é€ æ·±åº¦æ•ˆæœ</li>
					<li>æŒ‰é’®æ‚¬åœå‘å…‰æ•ˆæœå¢å¼ºäº¤äº’ä½“éªŒ</li>
					<li>è„‰å†²åŠ¨ç”»æç¤ºåŠŸèƒ½å¯ç”¨çŠ¶æ€</li>
					<li>æ‰‹ç‰ŒåŒºåŸŸè§†è§‰åé¦ˆï¼ˆå‘å…‰æ•ˆæœï¼‰</li>
					<li>ç¦ç”¨çŠ¶æ€å¤„ç†é˜²æ­¢æ— æ•ˆæ“ä½œ</li>
				</ul>
			</div>
		</div>

		<!-- å®‰å…¨ä¸éªŒè¯ç³»ç»Ÿ -->
		<div class="function-category">ä¸‰ã€å®‰å…¨ä¸éªŒè¯ç³»ç»Ÿ</div>

		<!-- 1. åŠ å¯†éªŒè¯åŠŸèƒ½ -->
		<div class="function-item">
			<div class="function-name">
				generateDeckMD5()
				<div class="function-tooltip">
					<strong>generateDeckMD5()</strong> - ç”Ÿæˆç‰Œå †MD5
					<code>function generateDeckMD5() {
						// åˆ›å»ºç‰Œå †æ•°æ®çš„å­—ç¬¦ä¸²è¡¨ç¤º
						const deckData = deck.map(card =>
						`${card.name}|${card.suit}|${card.point}|${card.uid}`
						).join(';');

						// ä½¿ç”¨CryptoJSè®¡ç®—MD5å“ˆå¸Œ
						const hash = CryptoJS.MD5(deckData).toString();

						// å­˜å‚¨å“ˆå¸Œå€¼
						deckMD5 = hash;

						// æ›´æ–°æ˜¾ç¤º
						updateMD5Display();

						// æ·»åŠ å®‰å…¨æ—¥å¿—
						securityLog.push({
						timestamp: new Date().toISOString(),
						action: 'generate_deck_md5',
						hash: hash,
						deckSize: deck.length
						});

						log(`ç‰Œå †MD5å·²æ›´æ–°: ${hash.substring(0, 8)}...`);

						return hash;
						}

						// æ›´æ–°MD5æ˜¾ç¤º
						function updateMD5Display() {
						const md5Element = document.getElementById('md5Value');
						if (!md5Element) return;

						// æ˜¾ç¤ºå‰8ä½å’Œå8ä½
						const displayHash = deckMD5 ?
						`${deckMD5.substring(0, 8)}...${deckMD5.substring(24)}` :
						'æœªç”Ÿæˆ';

						md5Element.textContent = displayHash;

						// æ·»åŠ å¤åˆ¶æŒ‰é’®åŠŸèƒ½
						md5Element.onclick = function() {
						navigator.clipboard.writeText(deckMD5)
						.then(() => {
						const originalText = this.textContent;
						this.textContent = 'å·²å¤åˆ¶!';
						this.classList.add('copied');

						setTimeout(() => {
						this.textContent = originalText;
						this.classList.remove('copied');
						}, 2000);
						})
						.catch(err => {
						console.error('å¤åˆ¶å¤±è´¥:', err);
						});
						};
						}</code>
				</div>
			</div>
			<div class="function-description">
				ç”Ÿæˆç‰Œå †çš„MD5æ ‡è¯†ç¬¦ï¼Œç”¨äºå®‰å…¨éªŒè¯ã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>åŠ å¯†é¢æ¿CSS</strong>
						<code>/* MD5éªŒè¯é¢æ¿ */
							.md5-panel {
							background: #e8f5e9;
							border: 1px solid #4CAF50;
							border-radius: 8px;
							padding: 15px;
							margin: 15px 0;
							position: relative;
							overflow: hidden;
							}

							.md5-panel::before {
							content: 'å®‰å…¨éªŒè¯';
							position: absolute;
							top: -10px;
							left: 15px;
							background: #4CAF50;
							color: white;
							padding: 2px 10px;
							border-radius: 4px;
							font-size: 12px;
							font-weight: bold;
							}

							/* MD5å€¼æ˜¾ç¤º */
							#md5Value {
							display: inline-block;
							background: #2d2d2d;
							color: #4CAF50;
							font-family: 'Consolas', 'Monaco', monospace;
							padding: 8px 15px;
							border-radius: 4px;
							margin: 10px 0;
							cursor: pointer;
							transition: all 0.3s ease;
							border: 1px solid #4CAF50;
							box-shadow: 0 2px 5px rgba(0,0,0,0.1);
							min-width: 200px;
							text-align: center;
							overflow: hidden;
							text-overflow: ellipsis;
							}

							#md5Value:hover {
							background: #3d3d3d;
							box-shadow: 0 4px 8px rgba(0,0,0,0.15);
							}

							#md5Value.copied {
							background: #388E3C;
							color: white;
							animation: pulseSuccess 1s;
							}

							@keyframes pulseSuccess {
							0% {
							box-shadow: 0 0 0 0 rgba(56, 142, 60, 0.7);
							}
							70% {
							box-shadow: 0 0 0 10px rgba(56, 142, 60, 0);
							}
							100% {
							box-shadow: 0 0 0 0 rgba(56, 142, 60, 0);
							}
							}

							/* éªŒè¯ç»“æœæ ·å¼ */
							#verifyResult {
							padding: 8px 12px;
							border-radius: 4px;
							font-weight: bold;
							margin-top: 10px;
							display: inline-block;
							}

							.verify-success {
							background: #E8F5E9;
							color: #2E7D32;
							border: 1px solid #4CAF50;
							}

							.verify-failure {
							background: #FFEBEE;
							color: #C62828;
							border: 1px solid #F44336;
							}

							/* éªŒè¯æŒ‰é’® */
							#verifyBtn {
							background: #4CAF50;
							color: white;
							border: none;
							padding: 8px 16px;
							border-radius: 4px;
							cursor: pointer;
							transition: all 0.3s ease;
							margin-top: 10px;
							font-weight: bold;
							}

							#verifyBtn:hover {
							background: #388E3C;
							transform: translateY(-2px);
							box-shadow: 0 4px 8px rgba(0,0,0,0.2);
							}

							#verifyBtn:active {
							transform: translateY(0);
							}

							/* å®‰å…¨å›¾æ ‡ */
							.md5-icon {
							display: inline-block;
							margin-right: 8px;
							font-size: 18px;
							}

							/* å“åº”å¼è®¾è®¡ */
							@media (max-width: 768px) {
							.md5-panel {
							padding: 12px;
							}

							#md5Value {
							min-width: 180px;
							font-size: 14px;
							padding: 6px 12px;
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>ä½¿ç”¨CryptoJSåº“å®ç°MD5å“ˆå¸Œè®¡ç®—</li>
					<li>ç‰Œå †æ•°æ®åºåˆ—åŒ–ç¡®ä¿å“ˆå¸Œä¸€è‡´æ€§</li>
					<li>å®‰å…¨æ—¥å¿—è®°å½•æ‰€æœ‰å“ˆå¸Œç”Ÿæˆæ“ä½œ</li>
					<li>å¤åˆ¶åŠŸèƒ½å¢å¼ºç”¨æˆ·ä½“éªŒ</li>
					<li>è§†è§‰åé¦ˆæ˜¾ç¤ºå¤åˆ¶æˆåŠŸçŠ¶æ€</li>
					<li>å“åº”å¼è®¾è®¡é€‚é…ä¸åŒå±å¹•å°ºå¯¸</li>
					<li>æ‚¬åœæ•ˆæœæå‡äº¤äº’ä½“éªŒ</li>
				</ul>
			</div>
		</div>

		<div class="function-item">
			<div class="function-name">
				generateDeckAES()
				<div class="function-tooltip">
					<strong>generateDeckAES()</strong> - ç”Ÿæˆç‰Œå †AESåŠ å¯†
					<code>function generateDeckAES() {
						// åˆ›å»ºç‰Œå †æ•°æ®çš„JSONå­—ç¬¦ä¸²
						const deckData = JSON.stringify({
						timestamp: new Date().toISOString(),
						deck: deck.map(card => ({
						name: card.name,
						suit: card.suit,
						point: card.point,
						uid: card.uid
						}))
						});

						// ä½¿ç”¨CryptoJSè¿›è¡ŒAES-256åŠ å¯†
						const encrypted = CryptoJS.AES.encrypt(
						deckData,
						AES_SECRET_KEY,
						{ mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }
						).toString();

						// å­˜å‚¨åŠ å¯†ç»“æœ
						deckAES = encrypted;

						// æ›´æ–°æ˜¾ç¤º
						updateAESDisplay();

						// æ·»åŠ å®‰å…¨æ—¥å¿—
						securityLog.push({
						timestamp: new Date().toISOString(),
						action: 'generate_deck_aes',
						encrypted: encrypted.substring(0, 50) + '...' // åªå­˜å‚¨éƒ¨åˆ†
						});

						log(`ç‰Œå †AESåŠ å¯†å®Œæˆ: ${encrypted.substring(0, 15)}...`);

						return encrypted;
						}

						// æ›´æ–°AESæ˜¾ç¤º
						function updateAESDisplay() {
						const aesElement = document.getElementById('aesValue');
						if (!aesElement) return;

						// æ˜¾ç¤ºå‰15ä½å’Œå15ä½
						const displayText = deckAES ?
						`${deckAES.substring(0, 15)}...${deckAES.substring(deckAES.length - 15)}` :
						'æœªç”Ÿæˆ';

						aesElement.textContent = displayText;

						// æ·»åŠ å¤åˆ¶åŠŸèƒ½
						aesElement.onclick = function() {
						navigator.clipboard.writeText(deckAES)
						.then(() => {
						const originalText = this.textContent;
						this.textContent = 'å·²å¤åˆ¶!';
						this.classList.add('copied');

						setTimeout(() => {
						this.textContent = originalText;
						this.classList.remove('copied');
						}, 2000);
						})
						.catch(err => {
						console.error('å¤åˆ¶å¤±è´¥:', err);
						});
						};

						// æ·»åŠ è§£å¯†æŒ‰é’®åŠŸèƒ½
						const decryptBtn = document.getElementById('decryptBtn');
						if (decryptBtn) {
						decryptBtn.disabled = !deckAES;
						}
						}

						// è§£å¯†ç‰Œå †æ•°æ®
						function decryptDeckData(encryptedData) {
						try {
						const decrypted = CryptoJS.AES.decrypt(
						encryptedData,
						AES_SECRET_KEY,
						{ mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }
						).toString(CryptoJS.enc.Utf8);

						if (!decrypted) {
						throw new Error('è§£å¯†å¤±è´¥æˆ–å¯†é’¥é”™è¯¯');
						}

						return JSON.parse(decrypted);
						} catch (error) {
						log(`è§£å¯†é”™è¯¯: ${error.message}`, 'error');
						return null;
						}
						}</code>
				</div>
			</div>
			<div class="function-description">
				ä½¿ç”¨AES-256ç®—æ³•åŠ å¯†ç‰Œå †æ•°æ®ï¼Œç”Ÿæˆå®‰å…¨ç¼–ç ã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>AESæ˜¾ç¤ºCSS</strong>
						<code>/* AESåŠ å¯†é¢æ¿ */
							.aes-panel {
							background: #e3f2fd;
							border: 1px solid #2196F3;
							border-radius: 8px;
							padding: 15px;
							margin: 15px 0;
							position: relative;
							overflow: hidden;
							}

							.aes-panel::before {
							content: 'é«˜çº§åŠ å¯†';
							position: absolute;
							top: -10px;
							left: 15px;
							background: #2196F3;
							color: white;
							padding: 2px 10px;
							border-radius: 4px;
							font-size: 12px;
							font-weight: bold;
							}

							/* AESå€¼æ˜¾ç¤º */
							#aesValue {
							display: inline-block;
							background: #2d2d2d;
							color: #2196F3;
							font-family: 'Consolas', 'Monaco', monospace;
							padding: 8px 15px;
							border-radius: 4px;
							margin: 10px 0;
							cursor: pointer;
							transition: all 0.3s ease;
							border: 1px solid #2196F3;
							box-shadow: 0 2px 5px rgba(0,0,0,0.1);
							min-width: 300px;
							text-align: center;
							overflow: hidden;
							text-overflow: ellipsis;
							font-size: 14px;
							}

							#aesValue:hover {
							background: #3d3d3d;
							box-shadow: 0 4px 8px rgba(0,0,0,0.15);
							}

							#aesValue.copied {
							background: #1976D2;
							color: white;
							animation: pulseSuccessBlue 1s;
							}

							@keyframes pulseSuccessBlue {
							0% {
							box-shadow: 0 0 0 0 rgba(25, 118, 210, 0.7);
							}
							70% {
							box-shadow: 0 0 0 10px rgba(25, 118, 210, 0);
							}
							100% {
							box-shadow: 0 0 0 0 rgba(25, 118, 210, 0);
							}
							}

							/* è§£å¯†æŒ‰é’® */
							#decryptBtn {
							background: #2196F3;
							color: white;
							border: none;
							padding: 8px 16px;
							border-radius: 4px;
							cursor: pointer;
							transition: all 0.3s ease;
							margin-top: 10px;
							font-weight: bold;
							display: inline-flex;
							align-items: center;
							}

							#decryptBtn:disabled {
							opacity: 0.5;
							cursor: not-allowed;
							}

							#decryptBtn:not(:disabled):hover {
							background: #1976D2;
							transform: translateY(-2px);
							box-shadow: 0 4px 8px rgba(0,0,0,0.2);
							}

							#decryptBtn:not(:disabled):active {
							transform: translateY(0);
							}

							/* æŒ‰é’®å›¾æ ‡ */
							#decryptBtn::before {
							content: 'ğŸ”“';
							margin-right: 8px;
							font-size: 16px;
							}

							/* è§£å¯†ç»“æœåŒºåŸŸ */
							#decryptResult {
							margin-top: 15px;
							padding: 12px;
							background: #f5f5f5;
							border-radius: 6px;
							border: 1px dashed #bdbdbd;
							font-family: 'Consolas', 'Monaco', monospace;
							font-size: 13px;
							max-height: 200px;
							overflow-y: auto;
							white-space: pre-wrap;
							}

							/* å®‰å…¨é”å›¾æ ‡ */
							.aes-icon {
							display: inline-block;
							margin-right: 8px;
							font-size: 18px;
							}

							/* å“åº”å¼è®¾è®¡ */
							@media (max-width: 768px) {
							.aes-panel {
							padding: 12px;
							}

							#aesValue {
							min-width: 250px;
							font-size: 12px;
							padding: 6px 12px;
							}

							#decryptResult {
							font-size: 12px;
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>AES-256åŠ å¯†ç®—æ³•ä¿éšœæ•°æ®å®‰å…¨</li>
					<li>CBCæ¨¡å¼+Pkcs7å¡«å……æä¾›é«˜çº§å®‰å…¨æ€§</li>
					<li>åŠ å¯†æ•°æ®åŒ…å«æ—¶é—´æˆ³ç¡®ä¿æ—¶æ•ˆæ€§</li>
					<li>å®Œæ•´çš„åŠ å¯†/è§£å¯†åŠŸèƒ½å®ç°</li>
					<li>å®‰å…¨æ—¥å¿—è®°å½•æ‰€æœ‰åŠ å¯†æ“ä½œ</li>
					<li>å¤åˆ¶åŠŸèƒ½å¢å¼ºç”¨æˆ·ä½“éªŒ</li>
					<li>è§£å¯†åŠŸèƒ½æ”¯æŒæ•°æ®éªŒè¯</li>
					<li>å“åº”å¼è®¾è®¡é€‚é…ä¸åŒå±å¹•å°ºå¯¸</li>
				</ul>
			</div>
		</div>

		<!-- 2. å®‰å…¨æ—¥å¿—åŠŸèƒ½ -->
		<div class="function-item">
			<div class="function-name">
				generateSecurityLog()
				<div class="function-tooltip">
					<strong>generateSecurityLog()</strong> - ç”Ÿæˆå®‰å…¨æ—¥å¿—
					<code>function generateSecurityLog() {
						// åˆ›å»ºæ—¥å¿—æ•°æ®
						const logData = {
						timestamp: new Date().toISOString(),
						deckMD5: deckMD5,
						deckAES: deckAES,
						deckSize: deck.length,
						handSize: hand.length,
						discardSize: discardPile.length,
						reshuffleUsed: reshuffleUsed,
						securityEvents: securityLog
						};

						// è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²
						const logString = JSON.stringify(logData, null, 2);

						// åˆ›å»ºBlobå¯¹è±¡
						const blob = new Blob([logString], { type: 'application/json' });
						const url = URL.createObjectURL(blob);

						// åˆ›å»ºä¸‹è½½é“¾æ¥
						const downloadLink = document.createElement('a');
						downloadLink.href = url;
						downloadLink.download = `security_log_${new Date().getTime()}.json`;
						downloadLink.textContent = 'ä¸‹è½½å®‰å…¨æ—¥å¿—';
						downloadLink.className = 'security-download';

						// æ·»åŠ åˆ°æ—¥å¿—å®¹å™¨
						const logContainer = document.getElementById('securityLog');
						logContainer.innerHTML = '';
						logContainer.appendChild(downloadLink);

						// æ·»åŠ æ—¥å¿—é¢„è§ˆ
						const preview = document.createElement('pre');
						preview.className = 'log-preview';
						preview.textContent = logString;
						logContainer.appendChild(preview);

						log("å®‰å…¨æ—¥å¿—å·²ç”Ÿæˆï¼Œå¯ä¸‹è½½æŸ¥çœ‹");

						// æ·»åŠ å®‰å…¨æ—¥å¿—è®°å½•
						securityLog.push({
						timestamp: new Date().toISOString(),
						action: 'generate_security_log',
						logSize: logString.length
						});

						return logString;
						}

						// å®‰å…¨æ—¥å¿—æŸ¥çœ‹å™¨
						function viewSecurityLog() {
						const logData = generateSecurityLog();
						showModal('å®‰å…¨æ—¥å¿—è¯¦æƒ…', `&lt;pre&gt;${logData}&lt;/pre&gt;`);
						}</code>
				</div>
			</div>
			<div class="function-description">
				ç”ŸæˆåŒ…å«ç‰Œå †è¯¦ç»†ä¿¡æ¯çš„JSONæ ¼å¼æ—¥å¿—æ–‡ä»¶ï¼Œæ”¯æŒä¸‹è½½å’Œé¢„è§ˆã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>å®‰å…¨æ—¥å¿—CSS</strong>
						<code>/* å®‰å…¨æ—¥å¿—å®¹å™¨ */
							#securityLog {
							background: #fff3e0;
							border: 1px solid #ff9800;
							border-radius: 8px;
							padding: 15px;
							margin: 15px 0;
							position: relative;
							overflow: hidden;
							}

							#securityLog::before {
							content: 'å®‰å…¨æ—¥å¿—';
							position: absolute;
							top: -10px;
							left: 15px;
							background: #ff9800;
							color: white;
							padding: 2px 10px;
							border-radius: 4px;
							font-size: 12px;
							font-weight: bold;
							}

							/* ä¸‹è½½é“¾æ¥ */
							.security-download {
							display: inline-block;
							background: #ff9800;
							color: white;
							padding: 10px 20px;
							border-radius: 4px;
							text-decoration: none;
							font-weight: bold;
							transition: all 0.3s ease;
							margin-bottom: 15px;
							box-shadow: 0 3px 6px rgba(0,0,0,0.1);
							}

							.security-download:hover {
							background: #f57c00;
							transform: translateY(-2px);
							box-shadow: 0 5px 10px rgba(0,0,0,0.15);
							}

							.security-download:active {
							transform: translateY(0);
							}

							/* æ—¥å¿—é¢„è§ˆ */
							.log-preview {
							background: #2d2d2d;
							color: #f8f8f2;
							padding: 15px;
							border-radius: 6px;
							font-family: 'Consolas', 'Monaco', monospace;
							font-size: 13px;
							line-height: 1.5;
							max-height: 300px;
							overflow: auto;
							margin-top: 15px;
							border: 1px solid #555;
							}

							/* æ—¥å¿—é«˜äº® */
							.log-preview .timestamp {
							color: #f92672;
							}

							.log-preview .action {
							color: #a6e22e;
							}

							.log-preview .hash {
							color: #66d9ef;
							}

							/* æ»šåŠ¨æ¡æ ·å¼ */
							.log-preview::-webkit-scrollbar {
							width: 8px;
							}

							.log-preview::-webkit-scrollbar-track {
							background: #3d3d3d;
							border-radius: 4px;
							}

							.log-preview::-webkit-scrollbar-thumb {
							background: #ff9800;
							border-radius: 4px;
							}

							.log-preview::-webkit-scrollbar-thumb:hover {
							background: #ffab40;
							}

							/* å®‰å…¨æ—¥å¿—æŒ‰é’® */
							#securityLogBtn {
							background: #ff9800;
							color: white;
							border: none;
							padding: 10px 20px;
							border-radius: 4px;
							cursor: pointer;
							transition: all 0.3s ease;
							font-weight: bold;
							display: flex;
							align-items: center;
							margin: 10px 0;
							}

							#securityLogBtn:hover {
							background: #f57c00;
							transform: translateY(-2px);
							box-shadow: 0 5px 10px rgba(0,0,0,0.15);
							}

							#securityLogBtn:active {
							transform: translateY(0);
							}

							/* æŒ‰é’®å›¾æ ‡ */
							#securityLogBtn::before {
							content: 'ğŸ”’';
							margin-right: 8px;
							font-size: 16px;
							}

							/* å“åº”å¼è®¾è®¡ */
							@media (max-width: 768px) {
							#securityLog {
							padding: 12px;
							}

							.log-preview {
							font-size: 12px;
							padding: 10px;
							max-height: 200px;
							}

							.security-download {
							padding: 8px 16px;
							font-size: 14px;
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>JSONæ ¼å¼æ—¥å¿—åŒ…å«å®Œæ•´æ¸¸æˆçŠ¶æ€ä¿¡æ¯</li>
					<li>Blobå¯¹è±¡å®ç°å‰ç«¯æ–‡ä»¶ä¸‹è½½åŠŸèƒ½</li>
					<li>å¸¦è¯­æ³•é«˜äº®çš„æ—¥å¿—é¢„è§ˆåŠŸèƒ½</li>
					<li>è‡ªå®šä¹‰æ»šåŠ¨æ¡æå‡ç”¨æˆ·ä½“éªŒ</li>
					<li>å“åº”å¼è®¾è®¡é€‚é…ä¸åŒå±å¹•å°ºå¯¸</li>
					<li>æ—¶é—´æˆ³è®°å½•æ‰€æœ‰å®‰å…¨æ“ä½œ</li>
					<li>æ¨¡æ€æ¡†æ”¯æŒè¯¦ç»†æ—¥å¿—æŸ¥çœ‹</li>
				</ul>
			</div>
		</div>

		<!-- æµ‹è¯•ä¸å¼€å‘å·¥å…· -->
		<div class="function-category">å››ã€æµ‹è¯•ä¸å¼€å‘å·¥å…·</div>

		<!-- 1. æ´—ç‰Œæµ‹è¯•åŠŸèƒ½ -->
		<div class="function-item">
			<div class="function-name">
				testShuffleUniformity()
				<div class="function-tooltip">
					<strong>testShuffleUniformity()</strong> - æ´—ç‰Œå‡åŒ€æ€§æµ‹è¯•
					<code>function testShuffleUniformity() {
						// åˆ›å»ºæµ‹è¯•é¢æ¿
						createTestPanel();

						// é‡ç½®æµ‹è¯•ç»“æœ
						testResults = {
						totalTests: 0,
						positionCounts: {},
						cardDistribution: {}
						};

						// åˆå§‹åŒ–ç»Ÿè®¡æ•°æ®
						for (let i = 0; i < 160; i++) { testResults.positionCounts[i]=0; } // è®¾ç½®æµ‹è¯•å¡ç‰Œ const testCard={
							name: "æµ‹è¯•å¡" , suit: "â™ " , point: 7, uid: "TEST_CARD_001" }; // æ·»åŠ æµ‹è¯•å¡åˆ°ç‰Œå † deck.push(testCard);
							// å¼€å§‹æµ‹è¯• log("å¼€å§‹æ´—ç‰Œå‡åŒ€æ€§æµ‹è¯•..."); startUniformityTest(); } // åˆ›å»ºæµ‹è¯•é¢æ¿ function createTestPanel() {
							// æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨æµ‹è¯•é¢æ¿ if (document.getElementById('testPanel')) return; // åˆ›å»ºæµ‹è¯•é¢æ¿ const
							panel=document.createElement('div'); panel.id='testPanel' ; panel.className='test-panel' ;
							panel.innerHTML=` <h3>æ´—ç‰Œå‡åŒ€æ€§æµ‹è¯•</h3>
							<div class="test-controls">
								<button id="startTest">å¼€å§‹æµ‹è¯•</button>
								<button id="stopTest">åœæ­¢æµ‹è¯•</button>
								<input type="number" id="testCount" value="1000" min="100" max="100000">
								<label for="testCount">æµ‹è¯•æ¬¡æ•°</label>
							</div>
							<div class="progress-container">
								<progress id="testProgress" value="0" max="100"></progress>
								<span id="progressText">0%</span>
							</div>
							<div class="results-container">
								<div class="result-chart" id="positionChart"></div>
								<div class="result-stats" id="statResults"></div>
							</div>
							`;

							// æ·»åŠ åˆ°é¡µé¢
							document.body.appendChild(panel);

							// ç»‘å®šäº‹ä»¶
							document.getElementById('startTest').addEventListener('click', startUniformityTest);
							document.getElementById('stopTest').addEventListener('click', stopUniformityTest);
							}

							// å¼€å§‹å‡åŒ€æ€§æµ‹è¯•
							function startUniformityTest() {
							if (isTesting) return;

							const testCount = parseInt(document.getElementById('testCount').value) || 1000;
							isTesting = true;
							testResults.totalTests = testCount;

							// é‡ç½®è¿›åº¦
							const progressBar = document.getElementById('testProgress');
							const progressText = document.getElementById('progressText');
							progressBar.value = 0;
							progressText.textContent = '0%';

							// æ‰§è¡Œæµ‹è¯•
							let completed = 0;
							const testCard = deck.find(card => card.uid === "TEST_CARD_001");

							const testInterval = setInterval(() => {
							if (!isTesting) {
							clearInterval(testInterval);
							return;
							}

							// æ´—ç‰Œ
							shuffleDeck();

							// æŸ¥æ‰¾æµ‹è¯•å¡ä½ç½®
							const position = deck.findIndex(card => card.uid === testCard.uid);

							// æ›´æ–°ç»Ÿè®¡æ•°æ®
							testResults.positionCounts[position] = (testResults.positionCounts[position] || 0) + 1;

							// æ›´æ–°è¿›åº¦
							completed++;
							const percent = Math.round((completed / testCount) * 100);
							progressBar.value = percent;
							progressText.textContent = `${percent}%`;

							// æ¯10æ¬¡æ›´æ–°ä¸€æ¬¡ç»“æœ
							if (completed % 10 === 0) {
							updateTestResults();
							}

							// æµ‹è¯•å®Œæˆ
							if (completed >= testCount) {
							clearInterval(testInterval);
							isTesting = false;
							log(`æ´—ç‰Œå‡åŒ€æ€§æµ‹è¯•å®Œæˆï¼Œå…±æµ‹è¯• ${testCount} æ¬¡`);
							updateTestResults(true);
							}
							}, 10);
							}

							// åœæ­¢æµ‹è¯•
							function stopUniformityTest() {
							isTesting = false;
							log("æµ‹è¯•å·²åœæ­¢");
							}

							// æ›´æ–°æµ‹è¯•ç»“æœ
							function updateTestResults(final = false) {
							const positionChart = document.getElementById('positionChart');
							const statResults = document.getElementById('statResults');

							// æ¸…ç©ºå®¹å™¨
							positionChart.innerHTML = '';
							statResults.innerHTML = '';

							// è®¡ç®—ç»Ÿè®¡æ•°æ®
							const totalTests = testResults.totalTests;
							let minPosition = Infinity;
							let maxPosition = -Infinity;
							let minCount = Infinity;
							let maxCount = -Infinity;

							// æ‰¾åˆ°æœ€å°å’Œæœ€å¤§ä½ç½®
							for (let i = 0; i < 160; i++) { if (testResults.positionCounts[i]> 0) {
								if (i < minPosition) minPosition=i; if (i> maxPosition) maxPosition = i;
									}
									}

									// åˆ›å»ºå›¾è¡¨
									const chartHeight = 200;
									const barWidth = 3;
									const containerWidth = (maxPosition - minPosition + 1) * (barWidth + 1);

									positionChart.style.width = `${containerWidth}px`;

									// åˆ›å»ºæ¡å½¢å›¾
									for (let i = minPosition; i <= maxPosition; i++) { const
										count=testResults.positionCounts[i] || 0; const barHeight=count> 0 ? Math.max(1,
										(count / totalTests) * chartHeight * 10) : 0;

										const bar = document.createElement('div');
										bar.className = 'chart-bar';
										bar.style.height = `${barHeight}px`;
										bar.style.width = `${barWidth}px`;
										bar.style.left = `${(i - minPosition) * (barWidth + 1)}px`;
										bar.style.bottom = '0';

										// æ·»åŠ æ‚¬åœæç¤º
										bar.title = `ä½ç½® ${i}: ${count} æ¬¡ (${((count / totalTests) * 100).toFixed(2)}%)`;

										positionChart.appendChild(bar);

										// æ›´æ–°æœ€å°/æœ€å¤§å€¼
										if (count < minCount) minCount=count; if (count> maxCount) maxCount = count;
											}

											// æ·»åŠ ç»Ÿè®¡ä¿¡æ¯
											const expected = totalTests / deck.length;
											const deviation = ((maxCount - minCount) / expected) * 100;

											statResults.innerHTML = `
											<h4>ç»Ÿè®¡ç»“æœ</h4>
											<p>æµ‹è¯•æ¬¡æ•°: ${totalTests}</p>
											<p>ç‰Œå †å¤§å°: ${deck.length}</p>
											<p>æœ€å°ä½ç½®: ${minPosition} (${minCount}æ¬¡)</p>
											<p>æœ€å¤§ä½ç½®: ${maxPosition} (${maxCount}æ¬¡)</p>
											<p>æœŸæœ›æ¬¡æ•°: ${expected.toFixed(2)}</p>
											<p>æœ€å¤§åå·®: ${deviation.toFixed(2)}%</p>
											<p>æ ‡å‡†å·®: ${calculateStandardDeviation().toFixed(2)}</p>
											`;

											// æœ€ç»ˆç»“æœæ·»åŠ åŠ¨ç”»
											if (final) {
											positionChart.classList.add('final-results');
											statResults.classList.add('final-results');
											}
											}

											// è®¡ç®—æ ‡å‡†å·®
											function calculateStandardDeviation() {
											const totalTests = testResults.totalTests;
											const deckSize = deck.length;
											const expected = totalTests / deckSize;

											let sumSquaredDiff = 0;
											for (let i = 0; i < deckSize; i++) { const
												count=testResults.positionCounts[i] || 0; const diff=count - expected;
												sumSquaredDiff +=diff * diff; } return Math.sqrt(sumSquaredDiff /
												deckSize); }</code>
				</div>
			</div>
			<div class="function-description">
				æ‰§è¡Œæ´—ç‰Œå‡åŒ€æ€§æµ‹è¯•ï¼Œç»Ÿè®¡ç‰¹å®šå¡ç‰Œåœ¨ç‰Œå †ä¸­ä¸åŒä½ç½®å‡ºç°çš„æ¦‚ç‡åˆ†å¸ƒã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>æµ‹è¯•é¢æ¿CSS</strong>
						<code>/* æµ‹è¯•é¢æ¿ */
							.test-panel {
							position: fixed;
							top: 50%;
							left: 50%;
							transform: translate(-50%, -50%);
							width: 90%;
							max-width: 800px;
							background: white;
							border-radius: 12px;
							box-shadow: 0 10px 30px rgba(0,0,0,0.2);
							padding: 20px;
							z-index: 3000;
							max-height: 90vh;
							overflow-y: auto;
							}

							.test-panel h3 {
							color: #8e0e00;
							text-align: center;
							margin-top: 0;
							padding-bottom: 10px;
							border-bottom: 2px solid #f1c40f;
							}

							/* æµ‹è¯•æ§åˆ¶åŒº */
							.test-controls {
							display: flex;
							justify-content: center;
							gap: 15px;
							margin: 20px 0;
							flex-wrap: wrap;
							align-items: center;
							}

							.test-controls button {
							padding: 10px 20px;
							border: none;
							border-radius: 6px;
							font-weight: bold;
							cursor: pointer;
							transition: all 0.3s ease;
							}

							#startTest {
							background: #4CAF50;
							color: white;
							}

							#stopTest {
							background: #F44336;
							color: white;
							}

							.test-controls button:hover {
							transform: translateY(-2px);
							box-shadow: 0 4px 8px rgba(0,0,0,0.2);
							}

							.test-controls button:active {
							transform: translateY(0);
							}

							.test-controls input {
							width: 100px;
							padding: 8px;
							border: 1px solid #ddd;
							border-radius: 4px;
							text-align: center;
							}

							.test-controls label {
							font-size: 14px;
							color: #666;
							}

							/* è¿›åº¦æ¡å®¹å™¨ */
							.progress-container {
							position: relative;
							height: 30px;
							margin: 20px 0;
							background: #f5f5f5;
							border-radius: 15px;
							overflow: hidden;
							}

							#testProgress {
							width: 100%;
							height: 100%;
							appearance: none;
							border: none;
							}

							#testProgress::-webkit-progress-bar {
							background: #f5f5f5;
							}

							#testProgress::-webkit-progress-value {
							background: linear-gradient(to right, #4CAF50, #8BC34A);
							transition: width 0.3s ease;
							}

							#progressText {
							position: absolute;
							top: 0;
							left: 0;
							width: 100%;
							height: 100%;
							display: flex;
							align-items: center;
							justify-content: center;
							font-weight: bold;
							color: #333;
							pointer-events: none;
							}

							/* ç»“æœå®¹å™¨ */
							.results-container {
							display: flex;
							gap: 20px;
							margin-top: 20px;
							}

							.result-chart {
							flex: 1;
							height: 220px;
							background: #f9f9f9;
							border: 1px solid #eee;
							border-radius: 6px;
							position: relative;
							overflow: hidden;
							}

							.result-stats {
							width: 300px;
							background: #f5f5f5;
							padding: 15px;
							border-radius: 6px;
							font-size: 14px;
							}

							.result-stats h4 {
							margin-top: 0;
							color: #8e0e00;
							border-bottom: 1px solid #ddd;
							padding-bottom: 5px;
							}

							.result-stats p {
							margin: 8px 0;
							}

							/* å›¾è¡¨æ¡å½¢ */
							.chart-bar {
							position: absolute;
							background: linear-gradient(to top, #4CAF50, #8BC34A);
							transition: height 0.5s ease;
							}

							.chart-bar:hover {
							background: linear-gradient(to top, #f44336, #ff9800);
							z-index: 10;
							}

							/* æœ€ç»ˆç»“æœåŠ¨ç”» */
							.final-results {
							animation: finalResultPulse 2s ease-in-out;
							}

							@keyframes finalResultPulse {
							0% {
							box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.5);
							}
							50% {
							box-shadow: 0 0 0 15px rgba(76, 175, 80, 0);
							}
							100% {
							box-shadow: 0 0 0 0 rgba(76, 175, 80, 0);
							}
							}

							/* å“åº”å¼è®¾è®¡ */
							@media (max-width: 768px) {
							.results-container {
							flex-direction: column;
							}

							.result-stats {
							width: 100%;
							}

							.test-panel {
							width: 95%;
							padding: 15px;
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>åŠ¨æ€åˆ›å»ºæµ‹è¯•é¢æ¿å®ç°éä¾µå…¥å¼æµ‹è¯•</li>
					<li>å®æ—¶è¿›åº¦æ¡æ˜¾ç¤ºæµ‹è¯•è¿›åº¦</li>
					<li>åŠ¨æ€æ¡å½¢å›¾å¯è§†åŒ–ä½ç½®åˆ†å¸ƒ</li>
					<li>æ ‡å‡†å·®è®¡ç®—è¯„ä¼°æ´—ç‰Œå‡åŒ€æ€§</li>
					<li>åä¸‡æ¬¡æ´—ç‰Œæ•°æ®</li>
					<li>å®æ—¶æ›´æ–°æµ‹è¯•ç»“æœ</li>
					<li>å“åº”å¼è®¾è®¡é€‚é…ä¸åŒå±å¹•å°ºå¯¸</li>
				</ul>
			</div>
		</div>

		<!-- 2. å¼€å‘è€…å·¥å…· -->
		<div class="function-item">
			<div class="function-name">
				addSpecificCard(cardName)
				<div class="function-tooltip">
					<strong>addSpecificCard(cardName)</strong> - æ·»åŠ æŒ‡å®šå¡ç‰Œ
					<code>function addSpecificCard(cardName) {
						// æ£€æŸ¥æ˜¯å¦åœ¨å¼€å‘è€…æ¨¡å¼
						if (!isDevMode) {
						log("å¼€å‘è€…æ¨¡å¼æœªå¯ç”¨ï¼Œæ— æ³•æ·»åŠ æŒ‡å®šå¡ç‰Œ");
						return;
						}

						// åœ¨æ ‡å‡†ç‰Œå †ä¸­æŸ¥æ‰¾åŒ¹é…çš„å¡ç‰Œ
						const cardTemplate = standardDeck.find(c => c.name === cardName);
						if (!cardTemplate) {
						log(`æ‰¾ä¸åˆ°å¡ç‰Œ: ${cardName}`);
						return;
						}

						// åˆ›å»ºæ–°å¡ç‰Œå®ä¾‹
						const newCard = {
						name: cardTemplate.name,
						suit: cardTemplate.suits[0].match(/^([â™ â™¥â™£â™¦])/)[1],
						point: parseInt(cardTemplate.suits[0].match(/(\d+|[JQKA])$/)[0].replace('J', '11').replace('Q',
						'12').replace('K', '13').replace('A', '1')),
						uid: `DEV_${Date.now()}_${Math.floor(Math.random() * 1000)}`
						};

						// æ·»åŠ åˆ°æ‰‹ç‰Œ
						hand.push(newCard);

						// æ›´æ–°UI
						updateHandDisplay();

						// æ·»åŠ åŠ¨ç”»æ•ˆæœ
						animateCardAddition(newCard);

						log(`å¼€å‘è€…: å·²æ·»åŠ  ${cardName} åˆ°æ‰‹ç‰Œ`);
						}

						// å¡ç‰Œæ·»åŠ åŠ¨ç”»
						function animateCardAddition(card) {
						const animationContainer = document.getElementById('animation-container');

						// åˆ›å»ºåŠ¨ç”»å…ƒç´ 
						const cardElement = document.createElement('div');
						cardElement.className = 'card dev-card-addition';
						cardElement.textContent = `${card.name} (${card.suit}${card.point})`;
						cardElement.style.position = 'fixed';
						cardElement.style.zIndex = '2000';
						cardElement.style.top = '20px';
						cardElement.style.right = '20px';
						cardElement.style.transform = 'scale(0.8)';
						cardElement.style.opacity = '0';

						animationContainer.appendChild(cardElement);

						// è·å–ç›®æ ‡ä½ç½®ï¼ˆæ‰‹ç‰ŒåŒºåŸŸï¼‰
						const handArea = document.getElementById('hand');
						const targetRect = handArea.getBoundingClientRect();

						// æ‰§è¡ŒåŠ¨ç”»
						anime({
						targets: cardElement,
						top: targetRect.top + 'px',
						left: targetRect.left + 'px',
						scale: [0.8, 1.2, 1],
						opacity: [0, 1, 1],
						duration: 1200,
						easing: 'easeInOutQuad',
						complete: () => {
						cardElement.remove();
						}
						});
						}

						// åˆ‡æ¢å¼€å‘è€…æ¨¡å¼
						function toggleDevMode() {
						isDevMode = !isDevMode;
						document.getElementById('devModeToggle').textContent =
						isDevMode ? 'å¼€å‘è€…æ¨¡å¼: å¼€å¯' : 'å¼€å‘è€…æ¨¡å¼: å…³é—­';

						// æ˜¾ç¤º/éšè—å¼€å‘è€…é¢æ¿
						const devPanel = document.getElementById('devPanel');
						devPanel.style.display = isDevMode ? 'block' : 'none';

						log(`å¼€å‘è€…æ¨¡å¼ ${isDevMode ? 'å·²å¼€å¯' : 'å·²å…³é—­'}`);
						}</code>
				</div>
			</div>
			<div class="function-description">
				åœ¨æµ‹è¯•æ¨¡å¼ä¸‹æ·»åŠ æŒ‡å®šå¡ç‰Œåˆ°æ‰‹ç‰Œä¸­ã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>å¼€å‘è€…å·¥å…·CSS</strong>
						<code>/* å¼€å‘è€…é¢æ¿ */
							.dev-panel {
							position: fixed;
							top: 20px;
							right: 20px;
							background: rgba(0, 0, 0, 0.8);
							color: #00ff00;
							border-radius: 8px;
							padding: 15px;
							z-index: 2000;
							font-family: 'Consolas', 'Monaco', monospace;
							box-shadow: 0 0 15px rgba(0, 255, 0, 0.5);
							border: 1px solid #00ff00;
							max-width: 300px;
							display: none;
							}

							.dev-panel h3 {
							margin-top: 0;
							color: #00ff00;
							border-bottom: 1px solid #00ff00;
							padding-bottom: 8px;
							font-size: 18px;
							}

							/* å¼€å‘è€…æ¨¡å¼åˆ‡æ¢æŒ‰é’® */
							#devModeToggle {
							position: fixed;
							top: 20px;
							left: 20px;
							background: #333;
							color: #00ff00;
							border: 1px solid #00ff00;
							border-radius: 4px;
							padding: 8px 16px;
							font-family: 'Consolas', 'Monaco', monospace;
							cursor: pointer;
							z-index: 2000;
							transition: all 0.3s ease;
							}

							#devModeToggle:hover {
							background: #00ff00;
							color: #000;
							box-shadow: 0 0 15px rgba(0, 255, 0, 0.7);
							}

							/* å¼€å‘è€…æ§åˆ¶é¡¹ */
							.dev-control {
							margin: 10px 0;
							display: flex;
							align-items: center;
							}

							.dev-control label {
							flex: 1;
							font-size: 14px;
							}

							.dev-control input,
							.dev-control select {
							background: #222;
							color: #00ff00;
							border: 1px solid #00ff00;
							border-radius: 4px;
							padding: 6px;
							width: 150px;
							font-family: 'Consolas', 'Monaco', monospace;
							}

							.dev-control button {
							background: #333;
							color: #00ff00;
							border: 1px solid #00ff00;
							border-radius: 4px;
							padding: 6px 12px;
							cursor: pointer;
							transition: all 0.3s ease;
							font-family: 'Consolas', 'Monaco', monospace;
							}

							.dev-control button:hover {
							background: #00ff00;
							color: #000;
							}

							/* å¼€å‘è€…å¡ç‰Œæ·»åŠ åŠ¨ç”» */
							.card.dev-card-addition {
							background: linear-gradient(45deg, #00ff00, #00cc00);
							color: black;
							font-weight: bold;
							border: 2px solid #00ff00;
							box-shadow: 0 0 20px rgba(0, 255, 0, 0.7);
							animation: devCardGlow 1.5s infinite alternate;
							}

							@keyframes devCardGlow {
							from {
							box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
							}
							to {
							box-shadow: 0 0 30px rgba(0, 255, 0, 0.9);
							}
							}

							/* å¼€å‘è€…æ¨¡å¼ä¸‹çš„ç‰¹æ®Šæ ·å¼ */
							.dev-mode .card {
							border: 1px dashed rgba(0, 255, 0, 0.5);
							}

							.dev-mode .card:hover {
							border: 1px solid #00ff00;
							box-shadow: 0 0 15px rgba(0, 255, 0, 0.5);
							}

							/* æ§åˆ¶å°æ ·å¼ */
							.dev-console {
							background: #111;
							color: #00ff00;
							padding: 10px;
							border-radius: 4px;
							margin-top: 10px;
							max-height: 150px;
							overflow-y: auto;
							font-size: 12px;
							border: 1px solid #008800;
							}

							.dev-console::-webkit-scrollbar {
							width: 6px;
							}

							.dev-console::-webkit-scrollbar-thumb {
							background: #008800;
							border-radius: 3px;
							}

							/* å“åº”å¼è®¾è®¡ */
							@media (max-width: 768px) {
							.dev-panel {
							top: 10px;
							right: 10px;
							left: 10px;
							max-width: none;
							}

							#devModeToggle {
							top: 10px;
							left: 10px;
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>å¼€å‘è€…æ¨¡å¼å¼€å…³æ§åˆ¶åŠŸèƒ½å¯è§æ€§</li>
					<li>ç»ˆç«¯é£æ ¼UIè®¾è®¡ï¼ˆé»‘åº•ç»¿å­—ï¼‰</li>
					<li>å¡ç‰Œæ·»åŠ åŠ¨ç”»å¢å¼ºè§†è§‰åé¦ˆ</li>
					<li>å®‰å…¨è¾¹ç•Œæ£€æŸ¥é˜²æ­¢éå¼€å‘è€…ä½¿ç”¨</li>
					<li>æµ®åŠ¨é¢æ¿è®¾è®¡ä¸å¹²æ‰°ä¸»æ¸¸æˆç•Œé¢</li>
					<li>å“åº”å¼å¸ƒå±€é€‚é…ä¸åŒå±å¹•å°ºå¯¸</li>
					<li>åŠ¨æ€å¡ç‰Œç”Ÿæˆç¡®ä¿å”¯ä¸€æ ‡è¯†ç¬¦</li>
				</ul>
			</div>
		</div>

		<!-- ç”¨æˆ·ç•Œé¢ç³»ç»Ÿ -->
		<div class="function-category">äº”ã€ç”¨æˆ·ç•Œé¢ç³»ç»Ÿ</div>

		<!-- 1. å¯¼èˆªç³»ç»Ÿ -->
		<div class="function-item">
			<div class="function-name">
				initializeButtons()
				<div class="function-tooltip">
					<strong>initializeButtons()</strong> - åˆå§‹åŒ–æŒ‰é’®äº‹ä»¶
					<code>function initializeButtons() {
						// æ ¸å¿ƒæ¸¸æˆæŒ‰é’®
						document.getElementById('shuffleBtn').addEventListener('click', shuffleDeck);
						document.getElementById('drawBtn').addEventListener('click', () => drawCards(3));
						document.getElementById('endPhaseBtn').addEventListener('click', endPhase);

						// ç‰¹æ®ŠåŠŸèƒ½æŒ‰é’®
						document.getElementById('reshuffleBtn').addEventListener('click', handleReshuffle);
						document.getElementById('securityLogBtn').addEventListener('click', generateSecurityLog);

						// å¼€å‘è€…æ¨¡å¼æŒ‰é’®
						document.getElementById('devModeToggle').addEventListener('click', toggleDevMode);

						// å¡ç‰Œæ“ä½œæŒ‰é’®
						const cardButtons = document.querySelectorAll('.card-action');
						cardButtons.forEach(btn => {
						btn.addEventListener('click', function() {
						const cardId = this.dataset.cardId;
						const action = this.dataset.action;
						handleCardAction(cardId, action);
						});
						});

						// é˜¶æ®µåˆ‡æ¢æŒ‰é’®
						const phaseButtons = document.querySelectorAll('.phase-btn');
						phaseButtons.forEach(btn => {
						btn.addEventListener('click', function() {
						const phase = this.dataset.phase;
						setPhase(phase);
						});
						});

						// é”®ç›˜å¿«æ·é”®
						document.addEventListener('keydown', handleKeyDown);

						log("æŒ‰é’®äº‹ä»¶åˆå§‹åŒ–å®Œæˆ");
						}

						// é”®ç›˜å¿«æ·é”®å¤„ç†
						function handleKeyDown(event) {
						// é˜²æ­¢åœ¨è¾“å…¥æ¡†ä¸­è§¦å‘
						if (event.target.tagName === 'INPUT') return;

						switch (event.key.toLowerCase()) {
						case 's':
						document.getElementById('shuffleBtn').click();
						break;
						case 'd':
						document.getElementById('drawBtn').click();
						break;
						case 'e':
						document.getElementById('endPhaseBtn').click();
						break;
						case 'r':
						document.getElementById('reshuffleBtn').click();
						break;
						case 'l':
						document.getElementById('securityLogBtn').click();
						break;
						case 'f1':
						document.getElementById('helpBtn').click();
						break;
						case 'escape':
						closeAllModals();
						break;
						}
						}

						// å¡ç‰Œæ“ä½œå¤„ç†
						function handleCardAction(cardId, action) {
						const card = hand.find(c => c.uid === cardId);
						if (!card) return;

						switch (action) {
						case 'use':
						useCard(card);
						break;
						case 'discard':
						discardCard(card);
						break;
						case 'equip':
						equipCard(card);
						break;
						}
						}

						// å…³é—­æ‰€æœ‰æ¨¡æ€æ¡†
						function closeAllModals() {
						document.querySelectorAll('.modal').forEach(modal => {
						modal.style.display = 'none';
						});
						}</code>
				</div>
			</div>
			<div class="function-description">
				ç»‘å®šæ‰€æœ‰æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå¹¶è®¾ç½®é”®ç›˜å¿«æ·é”®ã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>å¯¼èˆªæŒ‰é’®CSS</strong>
						<code>/* æŒ‰é’®å®¹å™¨ */
							.button-container {
							display: flex;
							flex-wrap: wrap;
							gap: 12px;
							margin: 20px 0;
							justify-content: center;
							padding: 15px;
							background: #f8f9fa;
							border-radius: 8px;
							border: 1px solid #e0e0e0;
							}

							/* æ ¸å¿ƒæŒ‰é’®æ ·å¼ */
							.nav-button {
							padding: 12px 24px;
							background: linear-gradient(to bottom, #4CAF50, #2E7D32);
							color: white;
							border: none;
							border-radius: 6px;
							cursor: pointer;
							transition: all 0.3s ease;
							font-weight: bold;
							box-shadow: 0 4px 8px rgba(0,0,0,0.15);
							display: flex;
							align-items: center;
							justify-content: center;
							min-width: 120px;
							position: relative;
							overflow: hidden;
							}

							.nav-button:hover {
							transform: translateY(-3px);
							box-shadow: 0 6px 12px rgba(0,0,0,0.2);
							background: linear-gradient(to bottom, #66BB6A, #388E3C);
							}

							.nav-button:active {
							transform: translateY(1px);
							box-shadow: 0 2px 5px rgba(0,0,0,0.2);
							}

							/* æŒ‰é’®æ³¢çº¹æ•ˆæœ */
							.nav-button::after {
							content: '';
							position: absolute;
							top: 50%;
							left: 50%;
							width: 0;
							height: 0;
							background: rgba(255, 255, 255, 0.3);
							border-radius: 50%;
							transform: translate(-50%, -50%);
							opacity: 0;
							}

							.nav-button:active::after {
							animation: ripple 0.6s linear;
							}

							@keyframes ripple {
							0% {
							width: 0;
							height: 0;
							opacity: 1;
							}
							100% {
							width: 300px;
							height: 300px;
							opacity: 0;
							}
							}

							/* æŒ‰é’®å›¾æ ‡ */
							.nav-button::before {
							margin-right: 8px;
							font-size: 18px;
							}

							#shuffleBtn::before {
							content: 'ğŸ”€';
							}

							#drawBtn::before {
							content: 'ğŸƒ';
							}

							#endPhaseBtn::before {
							content: 'â­ï¸';
							}

							#reshuffleBtn::before {
							content: 'ğŸ”„';
							}

							#securityLogBtn::before {
							content: 'ğŸ“';
							}

							#helpBtn::before {
							content: 'â“';
							}

							/* æŒ‰é’®çŠ¶æ€ */
							.nav-button.active {
							animation: buttonPulse 1.5s infinite;
							border: 2px solid #FFEB3B;
							}

							@keyframes buttonPulse {
							0% {
							box-shadow: 0 0 0 0 rgba(255, 235, 59, 0.7);
							}
							70% {
							box-shadow: 0 0 0 10px rgba(255, 235, 59, 0);
							}
							100% {
							box-shadow: 0 0 0 0 rgba(255, 235, 59, 0);
							}
							}

							.nav-button:disabled {
							opacity: 0.5;
							cursor: not-allowed;
							transform: none;
							box-shadow: none;
							}

							/* å¡ç‰Œæ“ä½œæŒ‰é’® */
							.card-action {
							padding: 8px 12px;
							background: rgba(255, 255, 255, 0.8);
							border: 1px solid #ddd;
							border-radius: 4px;
							cursor: pointer;
							transition: all 0.2s ease;
							font-size: 12px;
							margin: 4px;
							}

							.card-action:hover {
							background: rgba(255, 255, 255, 1);
							transform: translateY(-2px);
							box-shadow: 0 2px 5px rgba(0,0,0,0.1);
							}

							/* æŒ‰é’®ç»„ */
							.button-group {
							display: flex;
							gap: 8px;
							margin-top: 10px;
							}

							/* å“åº”å¼è®¾è®¡ */
							@media (max-width: 768px) {
							.button-container {
							flex-direction: column;
							align-items: center;
							}

							.nav-button {
							width: 100%;
							max-width: 300px;
							margin-bottom: 10px;
							}

							.button-group {
							flex-direction: column;
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>ç»Ÿä¸€äº‹ä»¶ç»‘å®šç®¡ç†æ‰€æœ‰æŒ‰é’®äº¤äº’</li>
					<li>é”®ç›˜å¿«æ·é”®æ”¯æŒæå‡æ“ä½œæ•ˆç‡</li>
					<li>æŒ‰é’®æ³¢çº¹åŠ¨ç”»å¢å¼ºç‚¹å‡»åé¦ˆ</li>
					<li>æ‚¬åœæ•ˆæœæå‡ç”¨æˆ·ä½“éªŒ</li>
					<li>å“åº”å¼å¸ƒå±€é€‚é…ä¸åŒå±å¹•å°ºå¯¸</li>
					<li>çŠ¶æ€æŒ‡ç¤ºå™¨æ˜¾ç¤ºæŒ‰é’®æ¿€æ´»çŠ¶æ€</li>
					<li>ç¦ç”¨çŠ¶æ€å¤„ç†é˜²æ­¢æ— æ•ˆæ“ä½œ</li>
				</ul>
			</div>
		</div>

		<!-- 2. å“åº”å¼è®¾è®¡ -->
		<div class="function-item">
			<div class="function-name">
				updateTooltipAlignment()
				<div class="function-tooltip">
					<strong>updateTooltipAlignment()</strong> - æ›´æ–°å·¥å…·æç¤ºå¯¹é½
					<code>function updateTooltipAlignment() {
						// è·å–æ‰€æœ‰å·¥å…·æç¤ºå…ƒç´ 
						const tooltips = document.querySelectorAll('.css-tooltip');

						// éå†æ‰€æœ‰å·¥å…·æç¤º
						tooltips.forEach(tooltip => {
						const parent = tooltip.parentElement;
						const parentRect = parent.getBoundingClientRect();

						// è·å–è§†å£å°ºå¯¸
						const viewportWidth = window.innerWidth;
						const viewportHeight = window.innerHeight;

						// é‡ç½®ä½ç½®
						tooltip.style.left = '';
						tooltip.style.right = '';
						tooltip.style.top = '';
						tooltip.style.bottom = '';

						// æ°´å¹³ä½ç½®è°ƒæ•´
						if (parentRect.left + tooltip.offsetWidth > viewportWidth - 20) {
						// å¦‚æœå³è¾¹ç©ºé—´ä¸è¶³ï¼Œæ˜¾ç¤ºåœ¨å·¦ä¾§
						tooltip.style.right = '100%';
						tooltip.style.left = 'auto';
						} else {
						// é»˜è®¤æ˜¾ç¤ºåœ¨å³ä¾§
						tooltip.style.left = '0';
						tooltip.style.right = 'auto';
						}

						// å‚ç›´ä½ç½®è°ƒæ•´
						if (parentRect.top - tooltip.offsetHeight < 20) { // å¦‚æœä¸Šæ–¹ç©ºé—´ä¸è¶³ï¼Œæ˜¾ç¤ºåœ¨ä¸‹æ–¹ tooltip.style.top='100%' ;
							tooltip.style.bottom='auto' ; } else { // é»˜è®¤æ˜¾ç¤ºåœ¨ä¸Šæ–¹ tooltip.style.bottom='100%' ;
							tooltip.style.top='auto' ; } }); // æ·»åŠ ç®­å¤´æŒ‡ç¤ºå™¨ addTooltipArrows(); } // æ·»åŠ å·¥å…·æç¤ºç®­å¤´ function
							addTooltipArrows() { // ç§»é™¤ç°æœ‰ç®­å¤´ document.querySelectorAll('.tooltip-arrow').forEach(arrow=>
							arrow.remove());

							// ä¸ºæ¯ä¸ªå·¥å…·æç¤ºæ·»åŠ ç®­å¤´
							document.querySelectorAll('.css-tooltip').forEach(tooltip => {
							const arrow = document.createElement('div');
							arrow.className = 'tooltip-arrow';

							// æ ¹æ®ä½ç½®è®¾ç½®ç®­å¤´æ–¹å‘
							if (tooltip.style.bottom === '100%') {
							// ä¸Šæ–¹æç¤ºæ¡†
							arrow.style.bottom = '-5px';
							arrow.style.borderTopColor = '#f8f9fa';
							} else {
							// ä¸‹æ–¹æç¤ºæ¡†
							arrow.style.top = '-5px';
							arrow.style.borderBottomColor = '#f8f9fa';
							}

							if (tooltip.style.left === '0') {
							// å³ä¾§æç¤ºæ¡†
							arrow.style.left = '15px';
							} else {
							// å·¦ä¾§æç¤ºæ¡†
							arrow.style.right = '15px';
							}

							tooltip.appendChild(arrow);
							});
							}

							// åˆå§‹åŒ–å“åº”å¼å¸ƒå±€
							function initResponsiveLayout() {
							// åˆå§‹è°ƒæ•´
							updateTooltipAlignment();

							// ç›‘å¬çª—å£å¤§å°å˜åŒ–
							window.addEventListener('resize', updateTooltipAlignment);

							// ç›‘å¬æ»šåŠ¨äº‹ä»¶
							window.addEventListener('scroll', updateTooltipAlignment);

							log("å“åº”å¼å¸ƒå±€å·²åˆå§‹åŒ–");
							}</code>
				</div>
			</div>
			<div class="function-description">
				æ ¹æ®å±å¹•å°ºå¯¸å’Œä½ç½®åŠ¨æ€è°ƒæ•´å·¥å…·æç¤ºçš„ä½ç½®å’Œæ–¹å‘ã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>å“åº”å¼è®¾è®¡CSS</strong>
						<code>/* å·¥å…·æç¤ºåŸºç¡€æ ·å¼ */
							.css-tooltip {
							position: absolute;
							z-index: 1000;
							box-shadow: 0 6px 16px rgba(0,0,0,0.15);
							border: 1px solid #dadce0;
							border-radius: 8px;
							padding: 15px;
							background: #f8f9fa;
							color: #202124;
							font-family: 'Consolas', 'Monaco', monospace;
							font-size: 13px;
							line-height: 1.5;
							white-space: pre-wrap;
							overflow: auto;
							max-height: 400px;
							display: none;
							transition: opacity 0.3s ease, transform 0.3s ease;
							}

							/* å·¥å…·æç¤ºç®­å¤´ */
							.tooltip-arrow {
							position: absolute;
							width: 0;
							height: 0;
							border-style: solid;
							border-width: 5px;
							border-color: transparent transparent #f8f9fa transparent;
							}

							/* å“åº”å¼è°ƒæ•´ */
							@media (max-width: 1200px) {
							.css-tooltip {
							max-width: 500px;
							}
							}

							@media (max-width: 992px) {
							.css-tooltip {
							max-width: 400px;
							font-size: 12px;
							padding: 12px;
							}
							}

							@media (max-width: 768px) {
							.css-tooltip {
							max-width: 90vw;
							left: 5vw !important;
							right: 5vw !important;
							transform: none !important;
							}

							/* ç§»åŠ¨è®¾å¤‡ä¸Šå›ºå®šä½ç½® */
							.css-tooltip.mobile-position {
							position: fixed;
							top: 50% !important;
							left: 5% !important;
							right: 5% !important;
							bottom: auto !important;
							transform: translateY(-50%) !important;
							max-height: 70vh;
							}

							.tooltip-arrow {
							display: none;
							}
							}

							@media (max-width: 480px) {
							.css-tooltip {
							padding: 10px;
							font-size: 11px;
							}

							.css-tooltip code {
							padding: 10px;
							font-size: 10px;
							}
							}

							/* å·¥å…·æç¤ºæ˜¾ç¤ºåŠ¨ç”» */
							.css-tooltip.showing {
							animation: tooltipAppear 0.3s ease forwards;
							display: block;
							opacity: 0;
							transform: translateY(10px);
							}

							@keyframes tooltipAppear {
							to {
							opacity: 1;
							transform: translateY(0);
							}
							}

							/* æ–¹å‘ç®­å¤´ */
							.tooltip-top .tooltip-arrow {
							bottom: -5px;
							left: 50%;
							transform: translateX(-50%);
							border-width: 5px 5px 0;
							border-color: #f8f9fa transparent transparent transparent;
							}

							.tooltip-bottom .tooltip-arrow {
							top: -5px;
							left: 50%;
							transform: translateX(-50%);
							border-width: 0 5px 5px;
							border-color: transparent transparent #f8f9fa transparent;
							}

							.tooltip-left .tooltip-arrow {
							right: -5px;
							top: 50%;
							transform: translateY(-50%);
							border-width: 5px 0 5px 5px;
							border-color: transparent transparent transparent #f8f9fa;
							}

							.tooltip-right .tooltip-arrow {
							left: -5px;
							top: 50%;
							transform: translateY(-50%);
							border-width: 5px 5px 5px 0;
							border-color: transparent #f8f9fa transparent transparent;
							}

							/* è§¦æ‘¸è®¾å¤‡ä¼˜åŒ– */
							@media (hover: none) {
							.css-name:hover .css-tooltip {
							display: none;
							}

							.css-tooltip.mobile-tap {
							display: block;
							animation: tooltipAppear 0.3s ease forwards;
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>åŠ¨æ€ä½ç½®è®¡ç®—ç¡®ä¿å·¥å…·æç¤ºå§‹ç»ˆå¯è§</li>
					<li>è¾¹ç•Œæ£€æµ‹é˜²æ­¢å·¥å…·æç¤ºè¶…å‡ºè§†å£</li>
					<li>å“åº”å¼æ–­ç‚¹é€‚é…ä¸åŒå±å¹•å°ºå¯¸</li>
					<li>æ–¹å‘ç®­å¤´æŒ‡ç¤ºå·¥å…·æç¤ºæ¥æº</li>
					<li>å¹³æ»‘åŠ¨ç”»å¢å¼ºç”¨æˆ·ä½“éªŒ</li>
					<li>è§¦æ‘¸è®¾å¤‡ç‰¹æ®Šä¼˜åŒ–</li>
					<li>æ»šåŠ¨å’Œè°ƒæ•´å¤§å°æ—¶è‡ªåŠ¨æ›´æ–°ä½ç½®</li>
				</ul>
			</div>
		</div>

		<!-- 3. åŠ¨ç”»ä¸åé¦ˆ -->
		<div class="function-item">
			<div class="function-name">
				highlightCard(cardElement)
				<div class="function-tooltip">
					<strong>highlightCard(cardElement)</strong> - é«˜äº®å¡ç‰Œ
					<code>function highlightCard(cardElement) {
						// ç§»é™¤ç°æœ‰é«˜äº®æ•ˆæœ
						cardElement.classList.remove('card-highlight');

						// è§¦å‘é‡æ’ä»¥é‡ç½®åŠ¨ç”»
						void cardElement.offsetWidth;

						// æ·»åŠ é«˜äº®ç±»
						cardElement.classList.add('card-highlight');

						// æ·»åŠ ç²’å­æ•ˆæœ
						createHighlightParticles(cardElement);

						// 3ç§’åç§»é™¤é«˜äº®æ•ˆæœ
						setTimeout(() => {
						cardElement.classList.remove('card-highlight');
						}, 3000);
						}

						// åˆ›å»ºé«˜äº®ç²’å­æ•ˆæœ
						function createHighlightParticles(cardElement) {
						const rect = cardElement.getBoundingClientRect();
						const particleContainer = document.getElementById('particle-container');

						// åˆ›å»ºç²’å­æ•°é‡
						const particleCount = 30;

						for (let i = 0; i < particleCount; i++) { const particle=document.createElement('div');
							particle.className='highlight-particle' ; // éšæœºä½ç½® const x=rect.left + Math.random() *
							rect.width; const y=rect.top + Math.random() * rect.height; particle.style.left=`${x}px`;
							particle.style.top=`${y}px`; // éšæœºé¢œè‰² const colors=['#ffeb3b', '#4caf50' , '#2196f3'
							, '#f44336' ]; const color=colors[Math.floor(Math.random() * colors.length)];
							particle.style.backgroundColor=color; // éšæœºå¤§å° const size=3 + Math.random() * 5;
							particle.style.width=`${size}px`; particle.style.height=`${size}px`;
							particleContainer.appendChild(particle); // ç²’å­åŠ¨ç”» anime({ targets: particle, translateX: ()=>
							anime.random(-100, 100),
							translateY: () => anime.random(-100, 100),
							scale: [1, 0],
							opacity: [1, 0],
							duration: 1000 + Math.random() * 1000,
							easing: 'easeOutExpo',
							complete: () => {
							particle.remove();
							}
							});
							}
							}</code>
				</div>
			</div>
			<div class="function-description">
				ä¸ºæŒ‡å®šå¡ç‰Œæ·»åŠ é«˜äº®æ•ˆæœï¼Œæä¾›è§†è§‰åé¦ˆã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>é«˜äº®åŠ¨ç”»CSS</strong>
						<code>/* å¡ç‰Œé«˜äº®æ•ˆæœ */
							.card-highlight {
							animation: cardHighlight 3s ease-in-out;
							z-index: 100;
							position: relative;
							}

							@keyframes cardHighlight {
							0% {
							transform: scale(1);
							box-shadow: 0 0 0 rgba(255, 235, 59, 0);
							}
							25% {
							transform: scale(1.1);
							box-shadow: 0 0 20px rgba(255, 235, 59, 0.8);
							}
							50% {
							transform: scale(1.05);
							box-shadow: 0 0 30px rgba(255, 235, 59, 0.9);
							}
							75% {
							transform: scale(1.08);
							box-shadow: 0 0 25px rgba(255, 235, 59, 0.7);
							}
							100% {
							transform: scale(1);
							box-shadow: 0 0 0 rgba(255, 235, 59, 0);
							}
							}

							/* é«˜äº®ç²’å­ */
							.highlight-particle {
							position: absolute;
							border-radius: 50%;
							pointer-events: none;
							z-index: 2000;
							}

							/* ç²’å­å®¹å™¨ */
							#particle-container {
							position: fixed;
							top: 0;
							left: 0;
							width: 100%;
							height: 100%;
							pointer-events: none;
							z-index: 1500;
							overflow: hidden;
							}

							/* ç‰¹æ®Šå¡ç‰Œç±»å‹çš„é«˜äº® */
							.card[data-card-type="kill"].card-highlight {
							animation: killHighlight 3s ease-in-out;
							}

							@keyframes killHighlight {
							0% {
							box-shadow: 0 0 0 rgba(244, 67, 54, 0);
							}
							50% {
							box-shadow: 0 0 30px rgba(244, 67, 54, 0.8);
							}
							100% {
							box-shadow: 0 0 0 rgba(244, 67, 54, 0);
							}
							}

							.card[data-card-type="dodge"].card-highlight {
							animation: dodgeHighlight 3s ease-in-out;
							}

							@keyframes dodgeHighlight {
							0% {
							box-shadow: 0 0 0 rgba(33, 150, 243, 0);
							}
							50% {
							box-shadow: 0 0 30px rgba(33, 150, 243, 0.8);
							}
							100% {
							box-shadow: 0 0 0 rgba(33, 150, 243, 0);
							}
							}

							/* æ‚¬åœé«˜äº®æ•ˆæœ */
							.card:hover:not(.disabled) {
							transform: translateY(-8px);
							box-shadow: 0 12px 20px rgba(0, 0, 0, 0.2);
							z-index: 50;
							transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
							}

							/* å‡å°‘è¿åŠ¨åå¥½è®¾ç½® */
							@media (prefers-reduced-motion: reduce) {
							.card-highlight {
							animation: none !important;
							box-shadow: 0 0 10px rgba(255, 235, 59, 0.7) !important;
							}

							.highlight-particle {
							display: none;
							}

							.card:hover:not(.disabled) {
							transform: translateY(-4px);
							transition: none;
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>å¤šé˜¶æ®µåŠ¨ç”»å¢å¼ºè§†è§‰å†²å‡»åŠ›</li>
					<li>åŠ¨æ€ç²’å­æ•ˆæœæå‡è§†è§‰åé¦ˆ</li>
					<li>åŸºäºå¡ç‰Œç±»å‹çš„å·®å¼‚åŒ–é«˜äº®æ•ˆæœ</li>
					<li>æ€§èƒ½ä¼˜åŒ–ï¼ˆä½¿ç”¨transformå’Œopacityï¼‰</li>
					<li>æ”¯æŒå‡å°‘è¿åŠ¨åå¥½è®¾ç½®ï¼ˆprefers-reduced-motionï¼‰</li>
					<li>æ‚¬åœæ•ˆæœå¢å¼ºäº¤äº’ä½“éªŒ</li>
					<li>å±‚çº§ç®¡ç†ç¡®ä¿æ­£ç¡®æ˜¾ç¤ºé¡ºåº</li>
				</ul>
			</div>
		</div>

		<!-- æ›´æ–°æ—¥å¿—ç³»ç»Ÿ -->
		<div class="function-category">å…­ã€æ›´æ–°æ—¥å¿—ç³»ç»Ÿ</div>

		<!-- 1. æ—¥å¿—é¡µé¢è®¾è®¡ -->
		<div class="function-item">
			<div class="function-name">
				renderVersionList(versions)
				<div class="function-tooltip">
					<strong>renderVersionList(versions)</strong> - æ¸²æŸ“ç‰ˆæœ¬åˆ—è¡¨
					<code>function renderVersionList(versions) {
						const container = document.getElementById('version-history');
						container.innerHTML = '';

						// æŒ‰æ—¥æœŸé™åºæ’åº
						versions.sort((a, b) => new Date(b.date) - new Date(a.date));

						// åˆ›å»ºæ—¶é—´çº¿å®¹å™¨
						const timeline = document.createElement('div');
						timeline.className = 'version-timeline';

						versions.forEach(version => {
						// åˆ›å»ºç‰ˆæœ¬æ¡ç›®
						const versionItem = document.createElement('div');
						versionItem.className = 'version-item';

						// åˆ›å»ºç‰ˆæœ¬å¤´
						const header = document.createElement('div');
						header.className = 'version-header';

						const versionBadge = document.createElement('span');
						versionBadge.className = 'version-badge';
						versionBadge.textContent = version.version;

						const dateBadge = document.createElement('span');
						dateBadge.className = 'date-badge';
						dateBadge.textContent = new Date(version.date).toLocaleDateString();

						header.appendChild(versionBadge);
						header.appendChild(dateBadge);

						// åˆ›å»ºæ›´æ–°å†…å®¹
						const content = document.createElement('div');
						content.className = 'version-content';

						if (version.changes && version.changes.length > 0) {
						const changeList = document.createElement('ul');
						changeList.className = 'change-list';

						version.changes.forEach(change => {
						const changeItem = document.createElement('li');
						changeItem.className = `change-item change-${change.type || 'feature'}`;

						const changeIcon = document.createElement('span');
						changeIcon.className = 'change-icon';
						changeIcon.textContent = change.type === 'fix' ? 'ğŸ' :
						change.type === 'improvement' ? 'âš¡' : 'âœ¨';

						const changeText = document.createElement('span');
						changeText.className = 'change-text';
						changeText.textContent = change.description;

						changeItem.appendChild(changeIcon);
						changeItem.appendChild(changeText);
						changeList.appendChild(changeItem);
						});

						content.appendChild(changeList);
						}

						// æ·»åŠ ç‰ˆæœ¬æ¡ç›®
						versionItem.appendChild(header);
						versionItem.appendChild(content);
						timeline.appendChild(versionItem);
						});

						container.appendChild(timeline);
						}</code>
				</div>
			</div>
			<div class="function-description">
				å°†ç‰ˆæœ¬æ›´æ–°æ•°æ®æ¸²æŸ“ä¸ºæ—¶é—´çº¿æ ·å¼çš„å¯è§†åŒ–åˆ—è¡¨ã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>æ—¥å¿—é¡µé¢CSS</strong>
						<code>/* ç‰ˆæœ¬å†å²å®¹å™¨ */
							#version-history {
							max-width: 800px;
							margin: 0 auto;
							padding: 20px;
							}

							/* æ—¶é—´çº¿æ ·å¼ */
							.version-timeline {
							position: relative;
							padding-left: 30px;
							border-left: 3px solid #e0e0e0;
							margin-left: 15px;
							}

							.version-timeline::before {
							content: '';
							position: absolute;
							top: 0;
							left: -8px;
							width: 16px;
							height: 16px;
							border-radius: 50%;
							background: #2196F3;
							z-index: 1;
							}

							.version-timeline::after {
							content: '';
							position: absolute;
							bottom: 0;
							left: -8px;
							width: 16px;
							height: 16px;
							border-radius: 50%;
							background: #4CAF50;
							z-index: 1;
							}

							/* ç‰ˆæœ¬æ¡ç›® */
							.version-item {
							position: relative;
							margin-bottom: 30px;
							padding: 20px;
							background: white;
							border-radius: 8px;
							box-shadow: 0 3px 10px rgba(0,0,0,0.08);
							transition: all 0.3s ease;
							}

							.version-item:hover {
							transform: translateY(-5px);
							box-shadow: 0 5px 15px rgba(0,0,0,0.1);
							}

							.version-item::before {
							content: '';
							position: absolute;
							top: 24px;
							left: -33px;
							width: 12px;
							height: 12px;
							border-radius: 50%;
							background: #2196F3;
							border: 3px solid white;
							z-index: 2;
							}

							/* ç‰ˆæœ¬å¤´ */
							.version-header {
							display: flex;
							align-items: center;
							margin-bottom: 15px;
							padding-bottom: 10px;
							border-bottom: 1px solid #f0f0f0;
							}

							.version-badge {
							background: #2196F3;
							color: white;
							padding: 5px 12px;
							border-radius: 20px;
							font-weight: bold;
							font-size: 16px;
							margin-right: 15px;
							}

							.date-badge {
							background: #f5f5f5;
							color: #666;
							padding: 4px 10px;
							border-radius: 4px;
							font-size: 14px;
							}

							/* æ›´æ–°å†…å®¹ */
							.change-list {
							list-style: none;
							padding: 0;
							margin: 0;
							}

							.change-item {
							padding: 8px 0;
							display: flex;
							align-items: flex-start;
							}

							.change-icon {
							margin-right: 10px;
							font-size: 18px;
							min-width: 24px;
							text-align: center;
							}

							.change-text {
							flex: 1;
							line-height: 1.5;
							}

							/* ä¸åŒç±»å‹çš„æ›´æ–° */
							.change-feature .change-icon {
							color: #4CAF50;
							}

							.change-fix .change-icon {
							color: #F44336;
							}

							.change-improvement .change-icon {
							color: #FF9800;
							}

							/* åŠ¨ç”»æ•ˆæœ */
							.version-item {
							animation: fadeInUp 0.6s ease forwards;
							opacity: 0;
							transform: translateY(20px);
							}

							@keyframes fadeInUp {
							to {
							opacity: 1;
							transform: translateY(0);
							}
							}

							.version-item:nth-child(1) { animation-delay: 0.1s; }
							.version-item:nth-child(2) { animation-delay: 0.2s; }
							.version-item:nth-child(3) { animation-delay: 0.3s; }
							.version-item:nth-child(4) { animation-delay: 0.4s; }

							/* å“åº”å¼è®¾è®¡ */
							@media (max-width: 768px) {
							.version-timeline {
							padding-left: 20px;
							margin-left: 10px;
							}

							.version-item::before {
							left: -28px;
							}

							.version-header {
							flex-direction: column;
							align-items: flex-start;
							}

							.date-badge {
							margin-top: 8px;
							}
							}

							@media (max-width: 480px) {
							.version-item {
							padding: 15px;
							}

							.version-badge {
							font-size: 14px;
							}

							.change-item {
							font-size: 14px;
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>æ—¶é—´çº¿å¸ƒå±€ç›´è§‚å±•ç¤ºç‰ˆæœ¬å†å²</li>
					<li>äº¤äº’åŠ¨ç”»å¢å¼ºç”¨æˆ·ä½“éªŒ</li>
					<li>æŒ‰æ›´æ–°ç±»å‹åˆ†ç±»å±•ç¤ºï¼ˆåŠŸèƒ½/ä¿®å¤/ä¼˜åŒ–ï¼‰</li>
					<li>å“åº”å¼è®¾è®¡é€‚é…ä¸åŒå±å¹•å°ºå¯¸</li>
					<li>æ¸è¿›å¼åŠ¨ç”»æ•ˆæœæå‡è§†è§‰ä½“éªŒ</li>
					<li>æ‚¬åœæ•ˆæœæä¾›è§†è§‰åé¦ˆ</li>
					<li>è¯­ä¹‰åŒ–å›¾æ ‡å¢å¼ºå¯è¯»æ€§</li>
				</ul>
			</div>
		</div>

		<!-- è¾…åŠ©å·¥å…·ç»„ä»¶ -->
		<div class="function-category">ä¸ƒã€è¾…åŠ©å·¥å…·ç»„ä»¶</div>

		<!-- 1. å·¥å…·æç¤ºç³»ç»Ÿ -->
		<div class="function-item">
			<div class="function-name">
				showTooltip(element, content)
				<div class="function-tooltip">
					<strong>showTooltip(element, content)</strong> - æ˜¾ç¤ºå·¥å…·æç¤º
					<code>function showTooltip(element, content) {
						// æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨å·¥å…·æç¤º
						const existingTooltip = document.getElementById('custom-tooltip');
						if (existingTooltip) existingTooltip.remove();

						// åˆ›å»ºå·¥å…·æç¤ºå…ƒç´ 
						const tooltip = document.createElement('div');
						tooltip.id = 'custom-tooltip';
						tooltip.className = 'tooltip';
						tooltip.innerHTML = content;

						// æ·»åŠ åˆ°DOM
						document.body.appendChild(tooltip);

						// è·å–å…ƒç´ ä½ç½®
						const rect = element.getBoundingClientRect();
						const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
						const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;

						// è®¡ç®—ä½ç½®ï¼ˆé¿å…è¶…å‡ºè§†å£ï¼‰
						let top = rect.top + scrollTop - tooltip.offsetHeight - 10;
						let left = rect.left + scrollLeft + rect.width / 2 - tooltip.offsetWidth / 2;

						// è¾¹ç•Œæ£€æŸ¥
						if (top < 10) top=rect.bottom + scrollTop + 10; if (left < 10) left=10; if (left +
							tooltip.offsetWidth> window.innerWidth - 10) {
							left = window.innerWidth - tooltip.offsetWidth - 10;
							}

							// è®¾ç½®ä½ç½®
							tooltip.style.top = `${top}px`;
							tooltip.style.left = `${left}px`;

							// æ·»åŠ ç®­å¤´
							const arrow = document.createElement('div');
							arrow.className = 'tooltip-arrow';
							tooltip.appendChild(arrow);

							// è®¾ç½®ç®­å¤´æ–¹å‘
							if (top > rect.top + scrollTop) {
							// å·¥å…·æç¤ºåœ¨ä¸‹æ–¹
							arrow.style.top = '-10px';
							arrow.style.borderBottomColor = '#333';
							} else {
							// å·¥å…·æç¤ºåœ¨ä¸Šæ–¹
							arrow.style.bottom = '-10px';
							arrow.style.borderTopColor = '#333';
							}

							// æ·»åŠ æ˜¾ç¤ºåŠ¨ç”»
							tooltip.style.opacity = '0';
							tooltip.style.transform = 'translateY(10px)';

							setTimeout(() => {
							tooltip.style.transition = 'opacity 0.3s, transform 0.3s';
							tooltip.style.opacity = '1';
							tooltip.style.transform = 'translateY(0)';
							}, 10);

							// è¿”å›å·¥å…·æç¤ºå…ƒç´ ä»¥ä¾¿åç»­æ“ä½œ
							return tooltip;
							}

							// éšè—å·¥å…·æç¤º
							function hideTooltip() {
							const tooltip = document.getElementById('custom-tooltip');
							if (tooltip) {
							tooltip.style.opacity = '0';
							tooltip.style.transform = 'translateY(10px)';

							setTimeout(() => {
							tooltip.remove();
							}, 300);
							}
							}

							// è‡ªåŠ¨ç»‘å®šå·¥å…·æç¤º
							function bindTooltips() {
							const tooltipElements = document.querySelectorAll('[data-tooltip]');

							tooltipElements.forEach(el => {
							const content = el.dataset.tooltip;

							el.addEventListener('mouseenter', () => {
							showTooltip(el, content);
							});

							el.addEventListener('mouseleave', hideTooltip);
							el.addEventListener('click', hideTooltip);
							});
							}</code>
				</div>
			</div>
			<div class="function-description">
				åœ¨æŒ‡å®šå…ƒç´ é™„è¿‘æ˜¾ç¤ºè‡ªå®šä¹‰å†…å®¹çš„å·¥å…·æç¤ºã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>å·¥å…·æç¤ºCSS</strong>
						<code>/* å·¥å…·æç¤ºåŸºç¡€æ ·å¼ */
							.tooltip {
							position: absolute;
							z-index: 1000;
							background: #333;
							color: white;
							padding: 12px 16px;
							border-radius: 6px;
							font-size: 14px;
							line-height: 1.5;
							max-width: 300px;
							box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
							pointer-events: none;
							transform-origin: center bottom;
							}

							/* å·¥å…·æç¤ºç®­å¤´ */
							.tooltip-arrow {
							position: absolute;
							width: 0;
							height: 0;
							border-style: solid;
							border-width: 10px;
							border-color: transparent;
							left: 50%;
							transform: translateX(-50%);
							}

							/* å·¥å…·æç¤ºå†…å®¹ */
							.tooltip-content {
							position: relative;
							z-index: 2;
							}

							/* å·¥å…·æç¤ºæ ‡é¢˜ */
							.tooltip-title {
							font-weight: bold;
							margin-bottom: 8px;
							font-size: 16px;
							color: #ffd700;
							display: flex;
							align-items: center;
							}

							.tooltip-title::before {
							content: 'â„¹ï¸';
							margin-right: 8px;
							}

							/* å·¥å…·æç¤ºä»£ç å— */
							.tooltip code {
							background: rgba(255, 255, 255, 0.1);
							padding: 2px 6px;
							border-radius: 4px;
							font-family: 'Consolas', monospace;
							display: inline-block;
							margin: 4px 0;
							}

							/* å·¥å…·æç¤ºåŠ¨ç”» */
							.tooltip-enter {
							animation: tooltipFadeIn 0.3s ease forwards;
							}

							@keyframes tooltipFadeIn {
							from {
							opacity: 0;
							transform: translateY(10px);
							}
							to {
							opacity: 1;
							transform: translateY(0);
							}
							}

							.tooltip-exit {
							animation: tooltipFadeOut 0.2s ease forwards;
							}

							@keyframes tooltipFadeOut {
							from {
							opacity: 1;
							transform: translateY(0);
							}
							to {
							opacity: 0;
							transform: translateY(10px);
							}
							}

							/* ä¸»é¢˜å˜ä½“ */
							.tooltip-info {
							background: #3498db;
							}

							.tooltip-warning {
							background: #f39c12;
							}

							.tooltip-error {
							background: #e74c3c;
							}

							.tooltip-success {
							background: #2ecc71;
							}

							/* å“åº”å¼è°ƒæ•´ */
							@media (max-width: 768px) {
							.tooltip {
							max-width: 250px;
							font-size: 13px;
							padding: 10px 14px;
							}

							.tooltip-title {
							font-size: 15px;
							}
							}

							/* è§¦æ‘¸è®¾å¤‡ä¼˜åŒ– */
							@media (hover: none) {
							.tooltip {
							display: none;
							}

							.mobile-tooltip {
							position: fixed;
							bottom: 20px;
							left: 20px;
							right: 20px;
							max-width: none;
							display: block !important;
							animation: mobileTooltipAppear 0.4s ease;
							}

							@keyframes mobileTooltipAppear {
							from {
							transform: translateY(100%);
							opacity: 0;
							}
							to {
							transform: translateY(0);
							opacity: 1;
							}
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>åŠ¨æ€ä½ç½®è®¡ç®—ç¡®ä¿å·¥å…·æç¤ºå§‹ç»ˆå¯è§</li>
					<li>è¾¹ç•Œæ£€æµ‹é˜²æ­¢å·¥å…·æç¤ºè¶…å‡ºè§†å£</li>
					<li>å¹³æ»‘åŠ¨ç”»å¢å¼ºç”¨æˆ·ä½“éªŒ</li>
					<li>æ–¹å‘ç®­å¤´æŒ‡ç¤ºå·¥å…·æç¤ºæ¥æº</li>
					<li>å“åº”å¼è®¾è®¡é€‚é…ä¸åŒå±å¹•å°ºå¯¸</li>
					<li>è§¦æ‘¸è®¾å¤‡ç‰¹æ®Šä¼˜åŒ–</li>
					<li>å¤šä¸»é¢˜æ”¯æŒï¼ˆä¿¡æ¯/è­¦å‘Š/é”™è¯¯/æˆåŠŸï¼‰</li>
				</ul>
			</div>
		</div>

		<!-- 2. æ¨¡æ€å¯¹è¯æ¡†ç³»ç»Ÿ -->
		<div class="function-item">
			<div class="function-name">
				showModal(title, content)
				<div class="function-tooltip">
					<strong>showModal(title, content)</strong> - æ˜¾ç¤ºæ¨¡æ€å¯¹è¯æ¡†
					<code>function showModal(title, content) {
						// å…³é—­ç°æœ‰æ¨¡æ€æ¡†
						closeAllModals();

						// åˆ›å»ºæ¨¡æ€æ¡†å®¹å™¨
						const modal = document.createElement('div');
						modal.className = 'modal';
						modal.id = 'custom-modal';

						// åˆ›å»ºæ¨¡æ€æ¡†å†…å®¹
						modal.innerHTML = `
						<div class="modal-backdrop"></div>
						<div class="modal-container">
							<div class="modal-header">
								<h3 class="modal-title">${title}</h3>
								<button class="modal-close">&times;</button>
							</div>
							<div class="modal-content">${content}</div>
							<div class="modal-footer">
								<button class="modal-button confirm">ç¡®å®š</button>
								<button class="modal-button cancel">å–æ¶ˆ</button>
							</div>
						</div>
						`;

						// æ·»åŠ åˆ°DOM
						document.body.appendChild(modal);

						// æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
						modal.querySelector('.modal-backdrop').addEventListener('click', closeAllModals);
						modal.querySelector('.modal-close').addEventListener('click', closeAllModals);
						modal.querySelector('.modal-button.confirm').addEventListener('click', closeAllModals);
						modal.querySelector('.modal-button.cancel').addEventListener('click', closeAllModals);

						// æ·»åŠ åŠ¨ç”»æ•ˆæœ
						setTimeout(() => {
						modal.classList.add('show');
						}, 10);

						// é˜»æ­¢èƒŒæ™¯æ»šåŠ¨
						document.body.style.overflow = 'hidden';

						return modal;
						}

						// å…³é—­æ‰€æœ‰æ¨¡æ€æ¡†
						function closeAllModals() {
						const modals = document.querySelectorAll('.modal');
						modals.forEach(modal => {
						modal.classList.remove('show');

						// æ·»åŠ å…³é—­åŠ¨ç”»
						setTimeout(() => {
						modal.remove();
						}, 300);
						});

						// æ¢å¤èƒŒæ™¯æ»šåŠ¨
						document.body.style.overflow = '';
						}

						// æ˜¾ç¤ºç¡®è®¤å¯¹è¯æ¡†
						function showConfirmModal(message, callback) {
						const modal = showModal('ç¡®è®¤æ“ä½œ', `
						<div class="confirm-message">
							<div class="confirm-icon">âš ï¸</div>
							<p>${message}</p>
						</div>
						`);

						// ä¿®æ”¹æŒ‰é’®è¡Œä¸º
						modal.querySelector('.modal-button.confirm').addEventListener('click', () => {
						callback(true);
						closeAllModals();
						});

						modal.querySelector('.modal-button.cancel').addEventListener('click', () => {
						callback(false);
						closeAllModals();
						});

						return modal;
						}
					</code>
				</div>
			</div>
			<div class="function-description">
				æ˜¾ç¤ºå¸¦æœ‰æ ‡é¢˜å’Œå†…å®¹çš„æ¨¡æ€å¯¹è¯æ¡†ï¼Œæ”¯æŒç¡®è®¤å’Œå–æ¶ˆæ“ä½œã€‚
			</div>

			<div class="css-section">
				<span class="css-name">
					é…å¥—CSS
					<div class="css-tooltip">
						<strong>æ¨¡æ€æ¡†CSS</strong>
						<code>/* æ¨¡æ€æ¡†åŸºç¡€æ ·å¼ */
							.modal {
							position: fixed;
							top: 0;
							left: 0;
							right: 0;
							bottom: 0;
							z-index: 10000;
							display: flex;
							align-items: center;
							justify-content: center;
							opacity: 0;
							visibility: hidden;
							transition: opacity 0.3s ease, visibility 0.3s ease;
							}

							.modal.show {
							opacity: 1;
							visibility: visible;
							}

							/* æ¨¡æ€æ¡†èƒŒæ™¯ */
							.modal-backdrop {
							position: absolute;
							top: 0;
							left: 0;
							right: 0;
							bottom: 0;
							background: rgba(0, 0, 0, 0.7);
							backdrop-filter: blur(4px);
							}

							/* æ¨¡æ€æ¡†å®¹å™¨ */
							.modal-container {
							position: relative;
							background: white;
							border-radius: 12px;
							box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
							width: 90%;
							max-width: 600px;
							max-height: 90vh;
							display: flex;
							flex-direction: column;
							z-index: 2;
							transform: translateY(30px);
							opacity: 0;
							transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
							}

							.modal.show .modal-container {
							transform: translateY(0);
							opacity: 1;
							}

							/* æ¨¡æ€æ¡†å¤´éƒ¨ */
							.modal-header {
							display: flex;
							justify-content: space-between;
							align-items: center;
							padding: 20px 25px;
							border-bottom: 1px solid #eee;
							}

							.modal-title {
							margin: 0;
							font-size: 22px;
							color: #333;
							}

							.modal-close {
							background: none;
							border: none;
							font-size: 28px;
							cursor: pointer;
							color: #999;
							transition: all 0.2s ease;
							line-height: 1;
							padding: 5px;
							}

							.modal-close:hover {
							color: #f44336;
							transform: scale(1.2);
							}

							/* æ¨¡æ€æ¡†å†…å®¹ */
							.modal-content {
							padding: 25px;
							overflow-y: auto;
							flex: 1;
							max-height: 60vh;
							}

							/* æ¨¡æ€æ¡†é¡µè„š */
							.modal-footer {
							display: flex;
							justify-content: flex-end;
							padding: 15px 25px;
							border-top: 1px solid #eee;
							gap: 15px;
							}

							.modal-button {
							padding: 10px 25px;
							border: none;
							border-radius: 6px;
							cursor: pointer;
							font-weight: bold;
							transition: all 0.2s ease;
							font-size: 16px;
							}

							.modal-button.confirm {
							background: #4CAF50;
							color: white;
							}

							.modal-button.cancel {
							background: #f5f5f5;
							color: #666;
							}

							.modal-button:hover {
							transform: translateY(-2px);
							box-shadow: 0 4px 8px rgba(0,0,0,0.1);
							}

							.modal-button.confirm:hover {
							background: #388E3C;
							}

							.modal-button.cancel:hover {
							background: #e0e0e0;
							}

							/* ç¡®è®¤å¯¹è¯æ¡†æ ·å¼ */
							.confirm-message {
							display: flex;
							align-items: center;
							gap: 20px;
							}

							.confirm-icon {
							font-size: 48px;
							flex-shrink: 0;
							}

							.confirm-message p {
							margin: 0;
							font-size: 18px;
							line-height: 1.6;
							}

							/* åŠ¨ç”»æ•ˆæœ */
							@keyframes modalIn {
							from {
							opacity: 0;
							transform: translateY(50px) scale(0.95);
							}
							to {
							opacity: 1;
							transform: translateY(0) scale(1);
							}
							}

							@keyframes modalOut {
							from {
							opacity: 1;
							transform: translateY(0) scale(1);
							}
							to {
							opacity: 0;
							transform: translateY(50px) scale(0.95);
							}
							}

							/* å“åº”å¼è®¾è®¡ */
							@media (max-width: 768px) {
							.modal-container {
							width: 95%;
							}

							.modal-header {
							padding: 15px 20px;
							}

							.modal-title {
							font-size: 20px;
							}

							.modal-content {
							padding: 20px;
							}

							.modal-footer {
							padding: 12px 20px;
							}

							.confirm-message {
							flex-direction: column;
							text-align: center;
							}
							}

							@media (max-width: 480px) {
							.modal-title {
							font-size: 18px;
							}

							.modal-content {
							padding: 15px;
							}

							.modal-button {
							padding: 8px 20px;
							font-size: 14px;
							}
							}</code>
					</div>
				</span>
			</div>

			<div class="key-points">
				<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
				<ul>
					<li>å¹³æ»‘çš„è¿›å…¥/é€€å‡ºåŠ¨ç”»å¢å¼ºç”¨æˆ·ä½“éªŒ</li>
					<li>èƒŒæ™¯æ¨¡ç³Šæ•ˆæœæå‡è§†è§‰å±‚æ¬¡æ„Ÿ</li>
					<li>å“åº”å¼è®¾è®¡é€‚é…ä¸åŒå±å¹•å°ºå¯¸</li>
					<li>æ»šåŠ¨é”å®šé˜²æ­¢èƒŒæ™¯å†…å®¹æ»šåŠ¨</li>
					<li>ç¡®è®¤å¯¹è¯æ¡†ä¸“ç”¨æ ·å¼</li>
					<li>æŒ‰é’®æ‚¬åœæ•ˆæœæä¾›è§†è§‰åé¦ˆ</li>
					<li>æ— éšœç¢å…³é—­é€‰é¡¹ï¼ˆESCé”®å…³é—­ï¼‰</li>
				</ul>
			</div>
		</div>

		<!-- æ€§èƒ½ä¼˜åŒ– -->
		<div class="function-category">å…«ã€æ€§èƒ½ä¼˜åŒ–</div>

		<!-- 1. æ¸²æŸ“ä¼˜åŒ– -->
		<div class="function-item">
			<div class="function-name">
				optimizeCardRendering()
				<div class="function-tooltip">
					<strong>optimizeCardRendering()</strong> - ä¼˜åŒ–å¡ç‰Œæ¸²æŸ“
					<code>function optimizeCardRendering() {
						// è·å–å¡ç‰Œå®¹å™¨
						const cardContainer = document.getElementById('card-container');

						// åˆ›å»ºè™šæ‹Ÿæ»šåŠ¨å®¹å™¨
						const virtualContainer = document.createElement('div');
						virtualContainer.id = 'virtual-card-container';
						virtualContainer.className = 'virtual-scroll-container';

						// è®¡ç®—å¯è§åŒºåŸŸé«˜åº¦
						const containerHeight = cardContainer.clientHeight;
						const cardHeight = 150; // å¡ç‰Œé«˜åº¦ï¼ˆå«é—´è·ï¼‰

						// è®¡ç®—å¯è§å¡ç‰Œæ•°é‡
						const visibleCards = Math.ceil(containerHeight / cardHeight) + 2;

						// è®¾ç½®å ä½å®¹å™¨é«˜åº¦
						virtualContainer.style.height = `${allCards.length * cardHeight}px`;

						// æ·»åŠ è™šæ‹Ÿå®¹å™¨
						cardContainer.appendChild(virtualContainer);

						// åˆå§‹æ¸²æŸ“
						renderVisibleCards(0);

						// æ·»åŠ æ»šåŠ¨äº‹ä»¶ç›‘å¬
						cardContainer.addEventListener('scroll', handleCardScroll);

						log("å¡ç‰Œæ¸²æŸ“ä¼˜åŒ–å·²å¯ç”¨ï¼Œä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨æŠ€æœ¯");
						}

						// æ¸²æŸ“å¯è§å¡ç‰Œ
						function renderVisibleCards(scrollTop) {
						const container = document.getElementById('virtual-card-container');
						const cardHeight = 150;
						const startIndex = Math.floor(scrollTop / cardHeight);
						const endIndex = startIndex + Math.ceil(container.clientHeight / cardHeight) + 2;

						// æ¸…ç©ºå®¹å™¨
						container.innerHTML = '';

						// æ¸²æŸ“å¯è§å¡ç‰Œ
						for (let i = startIndex; i < Math.min(endIndex, allCards.length); i++) { const card=allCards[i];
							const cardElement=createCardElement(card); // è®¾ç½®ä½ç½® cardElement.style.position='absolute' ;
							cardElement.style.top=`${i * cardHeight}px`; container.appendChild(cardElement); } } //
							æ»šåŠ¨äº‹ä»¶å¤„ç† function handleCardScroll() { const
							container=document.getElementById('card-container');
							renderVisibleCards(container.scrollTop); } // åˆ›å»ºå¡ç‰Œå…ƒç´ ï¼ˆä¼˜åŒ–ç‰ˆï¼‰ function createCardElement(card) {
							// ä½¿ç”¨æ–‡æ¡£ç‰‡æ®µå‡å°‘é‡æ’ const fragment=document.createDocumentFragment(); // åˆ›å»ºå¡ç‰Œå®¹å™¨ const
							cardElement=document.createElement('div'); cardElement.className='card virtual-card' ;
							cardElement.dataset.id=card.id; // ä½¿ç”¨CSSå˜é‡å­˜å‚¨å¡ç‰Œæ•°æ®
							cardElement.style.setProperty('--card-color', card.color);
							cardElement.style.setProperty('--card-type', card.type); // æ·»åŠ åŸºç¡€å†…å®¹ cardElement.innerHTML=`
							<div class="card-header">
							<span class="card-name">${card.name}</span>
							<span class="card-cost">${card.cost}</span>
				</div>
				<div class="card-image"></div>
				<div class="card-description">${card.description}</div>
				`;

				// ä½¿ç”¨will-changeä¼˜åŒ–åŠ¨ç”»
				cardElement.style.willChange = 'transform, opacity';

				// æ·»åŠ åˆ°æ–‡æ¡£ç‰‡æ®µ
				fragment.appendChild(cardElement);

				return fragment;
				}

				// ä½¿ç”¨Intersection Observerå»¶è¿ŸåŠ è½½å›¾ç‰‡
				function initLazyLoading() {
				const observer = new IntersectionObserver((entries) => {
				entries.forEach(entry => {
				if (entry.isIntersecting) {
				const card = entry.target;
				const cardId = card.dataset.id;
				const cardData = allCards.find(c => c.id === cardId);

				// åŠ è½½å›¾ç‰‡
				const img = card.querySelector('.card-image');
				img.style.backgroundImage = `url(${cardData.image})`;

				// åœæ­¢è§‚å¯Ÿ
				observer.unobserve(card);
				}
				});
				}, { threshold: 0.1 });

				// è§‚å¯Ÿæ‰€æœ‰å¡ç‰Œ
				document.querySelectorAll('.virtual-card').forEach(card => {
				observer.observe(card);
				});
				}</code>
			</div>
		</div>
		<div class="function-description">
			ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨æŠ€æœ¯ä¼˜åŒ–å¤§é‡å¡ç‰Œçš„æ¸²æŸ“æ€§èƒ½ã€‚
		</div>

		<div class="css-section">
			<span class="css-name">
				é…å¥—CSS
				<div class="css-tooltip">
					<strong>æ¸²æŸ“ä¼˜åŒ–CSS</strong>
					<code>/* è™šæ‹Ÿæ»šåŠ¨å®¹å™¨ */
						.virtual-scroll-container {
						position: relative;
						width: 100%;
						overflow: hidden;
						}

						/* ä¼˜åŒ–åçš„å¡ç‰Œæ ·å¼ */
						.virtual-card {
						position: absolute;
						width: 100%;
						height: 140px;
						margin-bottom: 10px;
						background: white;
						border-radius: 8px;
						box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
						transition: transform 0.3s ease, box-shadow 0.3s ease;
						will-change: transform, box-shadow;
						overflow: hidden;
						display: flex;
						flex-direction: column;
						border: 1px solid #eee;
						}

						/* å¡ç‰Œå¤´éƒ¨ */
						.card-header {
						display: flex;
						justify-content: space-between;
						padding: 10px 15px;
						background: var(--card-color, #f5f5f5);
						border-bottom: 1px solid #e0e0e0;
						}

						.card-name {
						font-weight: bold;
						font-size: 16px;
						color: #333;
						}

						.card-cost {
						background: white;
						width: 24px;
						height: 24px;
						border-radius: 50%;
						display: flex;
						align-items: center;
						justify-content: center;
						font-weight: bold;
						box-shadow: 0 2px 4px rgba(0,0,0,0.1);
						}

						/* å¡ç‰Œå›¾ç‰‡ */
						.card-image {
						height: 70px;
						background-color: #f9f9f9;
						background-size: cover;
						background-position: center;
						flex-shrink: 0;
						}

						/* å¡ç‰Œæè¿° */
						.card-description {
						padding: 10px 15px;
						font-size: 13px;
						line-height: 1.4;
						color: #555;
						flex-grow: 1;
						overflow: hidden;
						text-overflow: ellipsis;
						display: -webkit-box;
						-webkit-line-clamp: 2;
						-webkit-box-orient: vertical;
						}

						/* æ€§èƒ½ä¼˜åŒ–å±æ€§ */
						.virtual-card {
						contain: strict;
						content-visibility: auto;
						}

						/* å¡ç‰ŒåŠ è½½çŠ¶æ€ */
						.card-image.loading {
						background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
						background-size: 200% 100%;
						animation: loadingAnimation 1.5s infinite;
						}

						@keyframes loadingAnimation {
						0% {
						background-position: 200% 0;
						}
						100% {
						background-position: -200% 0;
						}
						}

						/* å‡å°‘è¿åŠ¨åå¥½è®¾ç½® */
						@media (prefers-reduced-motion: reduce) {
						.virtual-card {
						transition: none;
						}
						}

						/* æ‰“å°æ ·å¼ä¼˜åŒ– */
						@media print {
						.virtual-scroll-container {
						height: auto !important;
						}

						.virtual-card {
						position: static;
						page-break-inside: avoid;
						}
						}</code>
				</div>
			</span>
		</div>

		<div class="key-points">
			<h3>å…³é”®æŠ€æœ¯ç‚¹</h3>
			<ul>
				<li>è™šæ‹Ÿæ»šåŠ¨æŠ€æœ¯å‡å°‘DOMèŠ‚ç‚¹æ•°é‡</li>
				<li>Intersection Observerå®ç°å›¾ç‰‡æ‡’åŠ è½½</li>
				<li>CSS Containmentä¼˜åŒ–æ¸²æŸ“æ€§èƒ½</li>
				<li>will-changeå±æ€§æç¤ºæµè§ˆå™¨ä¼˜åŒ–</li>
				<li>æ–‡æ¡£ç‰‡æ®µå‡å°‘DOMæ“ä½œ</li>
				<li>å†…å®¹å¯è§æ€§(content-visibility)ä¼˜åŒ–æ¸²æŸ“</li>
				<li>éª¨æ¶å±æå‡åŠ è½½ä½“éªŒ</li>
			</ul>
		</div>
		</div>


		<footer class="site-footer">
			<div class="author-info">
				<p>
					ä½œè€…ï¼š <a href="https://space.bilibili.com/87412647?spm_id_from=333.1007.0.0"
						target="_blank">bilibiliæœˆãŒç¶ºéº—ã§ã™ã­_</a><br />
					è”ç³»æ–¹å¼ï¼š<a href="mailto:3099637681@qq.com" target="_blank">3099637681@qq.comï¼ˆQQåŒå·ï¼‰</a><br />
					æœ‰ä»€ä¹ˆæ–°åŠŸèƒ½æˆ–å»ºè®®æ¬¢è¿éªšæ‰°ï¼ˆè‘—åæ¥æ„ï¼‰<br />
					<a href="https://1145141919810tonny.github.io/sgsmoniqi/" target="_blank">ç‚¹å‡»æ­¤å¤„ä½¿ç”¨GitHub Pagesåœ¨çº¿æœåŠ¡</a>
				</p>
			</div>
			<div class="code-update">
				<a href="https://www.bilibili.com/read/readlist/rl929858?spm_id_from=333.1387.0.0" target="_blank"
					class="bili-btn" rel="noopener noreferrer">
					[bilibili]è·å–æ›´æ–°åŠ¨æ€
				</a>
				<a href="https://github.com/1145141919810TONNY/sgsmoniqi/" target="_blank" class="github-btn"
					rel="noopener noreferrer">
					[GitHub]è·å–åç»­ä»£ç æ›´æ–°
				</a>
				<a href="https://gitcode.com/TONNY114514/sgsmnq?source_module=search_project" target="_blank" class="gitcode-btn"
					rel="noopener noreferrer">
					[GitCode]è·å–åç»­ä»£ç æ›´æ–°(å›½å†…git)
				</a>
			</div>
			<div class="license-notice">
				<p>
					Copyright &copy; <span id="copyright-year">2025</span> bilibili æœˆãŒç¶ºéº—ã§ã™ã­_<br />
					Released under the
					<a href="MIT LICENSE.html" title="æŸ¥çœ‹MITè®¸å¯è¯" class="license-link" target="_blank">
						MIT License
					</a>
				</p>
				<p class="i18n-annotation">
					(æ³•å¾‹æ¡æ¬¾ä»¥è‹±æ–‡ç‰ˆ<a href="MIT LICENSE.html" target="_blank">LICENSE</a>æ–‡ä»¶ä¸ºå‡†)
				</p>
			</div>
		</footer>
	</body>
	<script>
		// è·å–æŒ‰é’®
		const backToTopBtn = document.getElementById('backToTopBtn');

		// æ»šåŠ¨äº‹ä»¶ç›‘å¬ï¼Œæ§åˆ¶æŒ‰é’®æ˜¾ç¤ºéšè—
		window.addEventListener('scroll', () => {
			if (window.scrollY > 200) { // å½“æ»šåŠ¨è·ç¦»å¤§äº200æ—¶æ˜¾ç¤ºæŒ‰é’®
				backToTopBtn.style.display = 'block';
			} else {
				backToTopBtn.style.display = 'none';
			}
		});

		// ç‚¹å‡»æŒ‰é’®å›åˆ°é¡¶éƒ¨
		backToTopBtn.addEventListener('click', () => {
			window.scrollTo({
				top: 0,
				behavior: 'smooth' // å¹³æ»‘æ»šåŠ¨
			});
		});
	</script>
</html>
