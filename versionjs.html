<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>三国杀模拟器版本更新日志</title>
		<link rel="stylesheet" href="css/head.css">
	</head>
	<body>
		<section class="hero-section">
			<h1 class="hero-title">三国杀模拟器版本更新日志</h1>
			<div class="nav-buttons">
				<button class="nav-button"><a href="index.html">返回主页</a></button>
				<button class="nav-button"><a href="jushou.html">进入沮爹模拟器</a></button>
			</div>
		</section>

		<div class="update-section">
			<h2 class="version-title">V6.3.0.54更新内容</h2>
			<div class="update-date">更新时间：2025/8/18</div>
			<ul class="version-list">
				<li>1.新增了【<span class="highlight">过河拆桥</span>】卡牌的完整功能：</li>
				<ul>
					<li>1.1: 当状态区有【<span class="highlight">兵粮寸断</span>】或【<span
							class="highlight">乐不思蜀</span>】时，使用过河拆桥会弹出选择框</li>
					<li>1.2:可选择<span class="highlight">拆除一张延时锦囊</span>或仅使用效果</li>
					<li>1.3: 无论选择如何，都会触发<span class="highlight">渐营技能</span>检查</li>
				</ul>
				<li>2.新增了【<span class="highlight">顺手牵羊</span>】卡牌的完整功能：</li>
				<ul>
					<li>2.1: 当状态区有延时锦囊时，使用顺手牵羊会弹出选择框</li>
					<li>2.2: 可选择<span class="highlight">获取一张延时锦囊</span>到手牌或仅摸一张牌</li>
					<li>2.3: 无论选择如何，都会触发<span class="highlight">渐营技能</span>检查</li>
				</ul>
				<li>3.修复了<span class="highlight">延时锦囊牌使用时不触发技能</span>的问题：</li>
				<ul>
					<li>3.1: 使用【<span class="highlight">兵粮寸断</span>】、【<span class="highlight">乐不思蜀</span>】或【<span
							class="highlight">闪电</span>】时，会正确检查<span class="highlight">渐营技能</span>并触发额外摸牌效果</li>
				</ul>
				<li>4.单机版代码同步：</li>
				<ul>
					<li>4.1: 同步了过河拆桥和顺手牵羊的完整功能实现</li>
					<li>4.2: 同步了延时锦囊牌触发技能的修复</li>
				</ul>
				<li>5.将更新日志从<span class="highlight">正序</span>调整为<span class="highlight">倒序</span>排列</li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V6.2.1.53更新内容</h2>
			<div class="update-date">更新时间：2025/8/15</div>
			<ul class="version-list">
				<li>1.移除了【<span class="highlight">五谷丰登</span>】的取消按钮，以修复点击取消后无法正确触发渐营的问题</li>
				<li>2.单机版代码同步：</li>
				<ul>
					<li>2.1:同步了移除【<span class="highlight">五谷丰登</span>】的取消按钮代码</li>
				</ul>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V6.2.0.52更新内容</h2>
			<div class="update-date">更新时间：2025/8/14</div>
			<ul class="version-list">
				<li>1.增加了延时锦囊牌的作用：</li>
				<ul>
					<li>1.1:【<span class="highlight">兵粮寸断</span>】、【<span
							class="highlight">乐不思蜀</span>】使用上限为2张，超过则禁用。回合结束后清空</li>
					<li>1.2:【<span class="highlight">闪电</span>】使用上限为1张，超过则禁用。回合结束后清空</li>
				</ul>
				<li>2.单机版代码同步：</li>
				<ul>
					<li>2.1:同步了延时锦囊牌的作用</li>
				</ul>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V6.1.3.51更新内容</h2>
			<div class="update-date">更新时间：2025/8/10</div>
			<ul class="version-list">
				<li>1.修复了主页里&lt;div class="main-content"&gt;缺少一个&lt;/div&gt;闭合导致&lt;/body&gt;报错的问题）</li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V6.1.2.51更新内容</h2>
			<div class="update-date">更新时间：2025/8/8</div>
			<ul class="version-list">
				<li>1.修复了页尾按钮在页面过窄时会捅出界面的问题（≥768px或≥480px）</li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V6.1.1.51更新内容</h2>
			<div class="update-date">更新时间：2025/8/7</div>
			<ul class="version-list">
				<li>1.新增页尾处<span class="highlight">GitCode</span>链接按钮（经过一段时间的观望后，决定添加该按钮及链接）</li>
				<li>2.新增卡牌【<span class="highlight">五谷丰登</span>】的作用：从牌堆顶翻开三张牌，选择其中一张加入手牌。</li>
				<li>3.单机版代码同步</li>
				<ul>
					<li>3.1:卡牌【<span class="highlight">顺手牵羊</span>】作用同步至单机版</li>
					<li>3.2:将优化后的牌堆数组同步至单机版</li>
					<li>3.3:卡牌【<span class="highlight">五谷丰登</span>】作用同步至单机版</li>
					<li>3.4:删除单机版<span class="highlight">洗牌性能测试</span>按钮及其代码</li>
				</ul>
				<li>4.新版本号的定义（以目前版本号V6.1.1.51举例“VX.Y.Z.AA”）</li>
				<ul>
					<li>4.1:当X+1时，标志着大版本更新，如V5.0的重构页面，V6.0的红利期算法更新。当X+1时，Y、Z会同步清0；</li>
					<li>4.2:当Y+1时，标记着小版本更新，比如在主要模拟器页面新增一些功能，但是相对不那么重要。当Y+1时，Z会同步清0；</li>
					<li>4.3:当Z+1时，标记着非常小的版本更新，如不新增功能，修复bug，优化css等，亦或有单机版的代码同步；</li>
					<li>4.4:AA为单机版版本号，十位数或更高与版本号X同理，个位数与Y同理，当AA不动时，代表单机版没有改动或同步</li>
					<li>4.5:X,Y,Z与AA区分，XYZ始终为主模拟器（联机版的版本号），AA只代表单机版去掉小数点的版本号</li>
				</ul>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V6.1更新内容</h2>
			<div class="update-date">更新时间：2025/8/3</div>
			<ul class="version-list">
				<li>1.新增【<span class="highlight">顺手牵羊</span>】卡牌的作用：使用时额外从牌堆顶摸1张牌</li>
				<li>2.紧急调整红利期算法：</li>
				<ul>
					<li>2.1:牌堆顶的定义改为：牌堆顶的<span class="highlight">10张牌</span>（第5~14张）。</li>
					<li>2.2:牌堆底的定义改为：牌堆倒数<span class="highlight">10张牌</span></li>
					<li>修改原因是因为还是要增加牌堆的其他随机性，61张牌已经占据牌堆的约38%了</li>
				</ul>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V6.0更新内容</h2>
			<div class="update-date">更新时间：2025/8/2</div>
			<ul class="version-list">
				<li>1.删除了<span class="highlight">随机版的性能测试按钮</span>以及对应js代码。通过优化代码，已经做到不怎么消耗性能了，因此将其删除(减少代码量约<span
						class="highlight">100行</span>)</li>
				<li>
					2.<span class="highlight">新增沮爹模拟器红利期算法版本：</span>
					<ul>
						<li>2.1:红利期算法会将<span class="highlight">诸葛连弩</span>锁定在手牌的第一张</li>
						<li>2.2:红利期算法以<span class="highlight">红利牌</span>和<span class="highlight">黑利牌</span>作为媒介洗牌</li>
						<ul>
							<li>2.2.1:目前被定义为<span class="highlight">红利牌</span>为：【<span
									class="highlight">无中生有</span>】，【<span class="highlight">顺手牵羊</span>】，【<span
									class="highlight">过河拆桥</span>】。这些牌将会有<span class="highlight">90%</span>的几率出现在<span
									class="highlight">牌堆顶</span></li>
							<li>2.2.2:目前被定义为<span class="highlight">黑利牌</span>为：【<span
									class="highlight">闪</span>】，【<span class="highlight">桃</span>】以及<span
									class="highlight">其他武器牌</span>。这些牌将会有<span class="highlight">90%</span>的几率出现在<span
									class="highlight">牌堆底</span></li>
							<li>2.2.3:其他卡牌依旧为随机方式插入到牌堆的其他空位上</li>
							<li>2.2.4:无论是红利牌还是黑利牌，在没有通过红利期算法随机到对应牌堆顶/底的情况时，也会加入到随机洗牌的序列</li>
							<li>2.2.5:牌堆顶的定义是：除了开局抽的4张牌外，牌堆顶的<span class="highlight">30张牌</span>（第5~34张）。</li>
							<li>2.2.6:牌堆底的定义是：牌堆倒数<span class="highlight">30张牌</span></li>
							<li>2.2.7:出现牌堆没有按照预设属于正常现象，调教的概率不为100%，以尽可能贴近真实的红利期牌堆</li>
							<li>2.2.8:红利期版本删除脚气卡的使用，请直接点击重新洗牌以代替其效果</li>
						</ul>
					</ul>
				<li>3.新增核心洗牌对比代码页面</li>
				</li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V5.4 更新内容</h2>
			<div class="update-date">更新时间：2025/7/31</div>
			<ul class="version-list">
				<li>
					1. <strong>CSS性能优化</strong>：
					<ul>
						<li>1.1 删除冗余CSS规则，<span class="highlight">删除约200行css代码</span>。目前head.css代码量为1574行</li>
					</ul>
				</li>
				<li>
					2. <strong>关键问题修复</strong>：
					<ul>
						<li>2.1 修正<span class="highlight">header占位符</span>拼写错误（影响3个核心页面）</li>
					</ul>
				</li>
				<li>
					3. <strong>维护性提升</strong>：
					<ul>
						<li>3.1 实现CSS规则<span class="highlight">100%利用率</span>（消除所有未使用样式）</li>
						<li>3.2 增加<span class="highlight">移动端响应式备用高度</span>方案</li>
					</ul>
				</li>
				<li>4:为所有页面添加<span class="highlight">"回到顶部"</span>按钮</li>
				<li>4.1:由于更新页面布局比较特殊，单独加个<span class="highlight">"滚到底部"</span>的按钮</li>
				<li>5.为所有历史版本（及以后版本）前方添加<span class="highlight">更新时间</span></li>
				<li>6.优化牌堆数组（card.js），<span class="highlight">减少代码量（284行→244行）</span></li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V5.3更新内容</h2>
			<div class="update-date">更新时间：2025/7/30</div>
			<ul class="version-list">
				<li>1.修复了页尾<span class="highlight">bilibili和github按钮</span>可能会长短不一的问题</li>
				<li>2.将<span class="highlight">单机版V5.0的代码开源</span>并允许通过复制粘贴后运行</li>
				<li>由于现在开发的方向已经让文件数量越来越多，单机版版本号只会停留在V5.0了，见谅。GitHub的版本会继续更新，除非在原有的基础上开发其他卡牌的作用</li>
				<li>3.统一了<span class="highlight">非模拟器页面顶部的css</span></li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V5.2更新内容</h2>
			<div class="update-date">更新时间：2025/7/20</div>
			<ul class="version-list">
				<li>1.由于gitee莫名其妙被封号，因此<span class="highlight">单机版不再更新</span></li>
				<li>2.原因同上，导致开源协议丢失，新写了一个<span class="highlight">五国语言的MIT LICENSE页面</span>，入口和以前的一样，点击对应页尾文字即可</li>
				<li>3.由于准备开发红利期洗牌算法，与随机版会分开。现在统一版本号到主页部分(现已着手开发)</li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V5.1更新内容</h2>
			<div class="update-date">更新时间：2025/7/16</div>
			<ul class="version-list">
				<li>1.重新给模拟器页面写上更全面的<span class="highlight">注释</span></li>
				<li>2.更新<span class="highlight">开源教学网页</span></li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V5.0更新内容</h2>
			<div class="update-date">更新时间：2025/6/29</div>
			<ul class="version-list">
				<li>1.<span class="highlight">重构整个页面文件</span>，即将脱离本地化，接入<span class="highlight">GitHub
						Pages</span>静态网页托管功能</li>
				<li>2.日后会更新其他武将的摸牌模拟器</li>
				<li>3.将<span class="highlight">css样式，牌堆js代码分开另外的文件</span>，日后更新会使文件边幅大幅度变小</li>
				<li>4.修复了点击非"添加指定牌"但是弹出对应弹出的bug</li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V4.2更新内容</h2>
			<div class="update-date">更新时间：2025/5/24</div>
			<ul class="version-list">
				<li>1.1：新增<span class="highlight">洗牌均匀性测试窗口</span>重新测试按钮</li>
				<li>1.2：完善洗牌均匀性测试窗口的计算公式</li>
				<li>1.3：优化了洗牌均匀性测试窗口的排序</li>
				<li>2.重新针对<span class="highlight">移动端</span>进行一次css样式优化</li>
				<li>3.修复了最左边的更新信息按钮弹窗内容会被遮挡的问题</li>
				<li>4.修复了【<span class="highlight">借刀杀人</span>】的一些bug</li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V4.1更新内容</h2>
			<div class="update-date">更新时间：2025/5/18</div>
			<ul class="version-list">
				<li>1.修复了【桃园结义】可以让桃的可使用次数为<span class="highlight">-1的bug</span></li>
				<li>2.修复了显示<span class="highlight">AES展开时按钮显示不完全</span>的bug</li>
				<li>3.将锦囊牌细分为<span class="highlight">普通锦囊牌和延时锦囊牌</span>方便日后的更新</li>
				<li>4.优化了若浏览器窗口过小时，会遮挡部分内容的情况</li>
				<li>5.删除了旧的<span class="highlight">脚气卡计数器</span>显示（即V4.0前标明删除就跑不了的部分）</li>
				<li>6.优化了一些代码细节，增强代码的可读性</li>
				<li>7.增加了<span class="highlight">十万次随机洗牌</span>的功能，以及有诸葛连弩的概率提示</li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V4.0更新内容</h2>
			<div class="update-date">更新时间：2025/5/1</div>
			<ul class="version-list">
				<li>重要更新：该源码获取了<span class="highlight">MIT License开源许可</span></li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V3.3更新内容</h2>
			<div class="update-date">更新时间：2025/5/1</div>
			<ul class="version-list">
				<li>1.新增<span class="highlight">操作台的快捷键</span></li>
				<li>2.新增以下牌的作用：
					<ul>
						<li>2.1：【<span
								class="highlight">借刀杀人</span>】：功能1:从牌堆里检索并获得一张武器牌<br>功能2:让自己能使用一张闪，如果不使用闪的话，状态区桃可使用的次数+1
						</li>
						<li>2.2：常态禁用【<span class="highlight">无懈可击</span>】的使用</li>
						<li>2.3：【<span class="highlight">桃园结义</span>】-1次桃的可使用次数</li>
					</ul>
				</li>
				<li>3.新增测试功能：<span class="highlight">手动添加指定牌</span>到手牌区（方便我自己测试卡牌的bug时使用）</li>
				<li>4.删除记牌器的图片（由于图片的代码实在太长太大了，不得已删除。若确实需要，点击页尾处"获取更新”跳转链接获取）</li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V3.2更新内容</h2>
			<div class="update-date">更新时间：2025/4/24</div>
			<ul class="version-list">
				<li>1.新增以下卡牌的作用：
					<ul>
						<li>1.1【<span class="highlight">无中生有</span>】：额外摸两张牌</li>
						<li>1.2【<span class="highlight">铁索连环</span>】：功能1：重铸摸一张牌，不检索花色点数<br>功能2：不摸牌，使用并检索花色点数</li>
						<li>1.3新增【<span class="highlight">杀</span>】的使用次数限制,默认为2次，使用2次后会被禁用，直到结束出牌阶段</li>
						<li>1.4【<span class="highlight">诸葛连弩</span>】：解除【杀】的使用次数限制</li>
						<li>1.5新增【<span class="highlight">桃</span>】【<span class="highlight">酒</span>】的正确使用次数（界沮授开局少1滴血）
						</li>
						<li>1.6常规下，禁用【闪】的使用（功能后续会继续开发）</li>
					</ul>
				</li>
				<li>2.新增<span class="highlight">状态信息区</span>（该区域以后会逐渐新增功能）</li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V3.1更新内容</h2>
			<div class="update-date">更新时间：2025/4/9</div>
			<ul class="version-list">
				<li>1.新增<span class="highlight">MD5码</span>的生成与校检</li>
				<li>2.新增<span class="highlight">结束出牌阶段</span>按钮，以便日后功能更新</li>
				<li>3.新增<span
						class="highlight">AES编码</span>的生成与校检，并与MD5码联合绑定，且可解码他人分享的本模拟器生成的AES编码内容。AES码生成时，会排除掉开局发的4张牌，只会生成剩下的<span
						class="highlight">156张牌</span></li>
				<li>4.新增<span class="highlight">牌堆日志</span>的生成。该功能只能在windows系统内使用。（有可能检测不到是否windows，不管了）</li>
				<li>5.在记牌器区域背景通过base64编码加上沮爹帅气的脸庞，本地也可以看到沮爹帅气的脸庞力！</li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V3.0更新内容</h2>
			<div class="update-date">更新时间：2025/4/6</div>
			<ul class="version-list">
				<li>1.新增了<span class="highlight">模拟出牌阶段</span>（功能尚未完善）</li>
				<li>2.新增了<span class="highlight">标沮授的技能代码</span>（需要进入出牌阶段才可使用）</li>
				<li>3.刷新牌堆自动发<span class="highlight">4张牌</span></li>
				<li>4.优化了牌堆代码，大幅度减少牌堆代码的臃肿度</li>
				<li>5.新增<span class="highlight">日志区</span></li>
				<li>6.新增<span class="highlight">展开和收起记牌器</span>的按钮</li>
				<li>7.新增<span class="highlight">刷新网页</span>按钮</li>
				<li>8.采用了新的<span class="highlight">牌堆随机代码</span>方式，令其更加安全的且更加接近真随机牌堆，并且让新算法尝试适配较旧的浏览器</li>
				<li>9.修复了牌堆代码里的一些花色的格式不一导致<span class="highlight">渐营无法正确触发</span>的bug</li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V2.1更新内容</h2>
			<div class="update-date">更新时间：2025/3/25</div>
			<ul class="version-list">
				<li>1.新增了<span class="highlight">脚气卡</span>的使用，在发的牌等于4张且每次洗牌时少于7次可使用</li>
				<li>2.优化了更新内容的排版，更加简洁界面</li>
				<li>3.优化了<span class="highlight">基锦装</span>的组合代码，使代码更加简洁</li>
				<li>4.更新了较完整的注释，网页端浏览器可按<span class="highlight">F12查看</span>并学习</li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V2.0更新内容</h2>
			<div class="update-date">更新时间：2025/3/21</div>
			<ul class="version-list">
				<li>1.新增了<span class="highlight">记牌器</span>的显示</li>
				<li>2.添加了V1.0版本里牌堆漏掉的<span class="highlight">5张酒</span></li>
				<li>3.新增<span class="highlight">抽到ak提示</span></li>
				<li>4.优化并置顶了<span class="highlight">交互按钮</span></li>
			</ul>
		</div>

		<div class="update-section">
			<h2 class="version-title">V1.0原始版本内容</h2>
			<div class="update-date">开始时间：2025/3/18</div>
			<ul class="version-list">
				<li>1.提供<span class="highlight">基本的抽1-4张牌</span>的功能</li>
				<li>2.提供<span class="highlight">洗牌功能</span>，查看<span class="highlight">剩余牌堆</span>功能</li>
			</ul>
		</div>

		<footer class="site-footer">
			<div class="author-info">
				<p>
					作者： <a href="https://space.bilibili.com/87412647?spm_id_from=333.1007.0.0"
						target="_blank">bilibili月が綺麗ですね_</a><br />
					联系方式：<a href="mailto:3099637681@qq.com" target="_blank">3099637681@qq.com（QQ同号）</a><br />
					有什么新功能或建议欢迎骚扰（著名来意）<br />
					<a href="https://1145141919810tonny.github.io/sgsmoniqi/" target="_blank">点击此处使用GitHub Pages在线服务</a>
				</p>
			</div>
			<div class="code-update">
				<a href="https://www.bilibili.com/read/readlist/rl929858?spm_id_from=333.1387.0.0" target="_blank"
					class="bili-btn" rel="noopener noreferrer">
					[bilibili]获取更新动态
				</a>
				<a href="https://github.com/1145141919810TONNY/sgsmoniqi/" target="_blank" class="github-btn"
					rel="noopener noreferrer">
					[GitHub]获取后续代码更新
				</a>
				<a href="https://gitcode.com/TONNY114514/sgsmnq?source_module=search_project" target="_blank"
					class="gitcode-btn" rel="noopener noreferrer">
					[GitCode]获取后续代码更新(国内git)
				</a>
			</div>
			<div class="license-notice">
				<p>
					Copyright &copy; <span id="copyright-year">2025</span> bilibili 月が綺麗ですね_<br />
					Released under the
					<a href="MIT LICENSE.html" title="查看MIT许可证" class="license-link" target="_blank">
						MIT License
					</a>
				</p>
				<p class="i18n-annotation">
					(法律条款以英文版<a href="MIT LICENSE.html" target="_blank">LICENSE</a>文件为准)
				</p>
			</div>
		</footer>
		<button id="backToTopBtn">回到顶部</button>
		<button id="scrollToBottomBtn" class="show">滚到底部</button>
	</body>
	<script>
		// 获取按钮
		const backToTopBtn = document.getElementById('backToTopBtn');

		// 滚动事件监听，控制按钮显示隐藏
		window.addEventListener('scroll', () => {
			if (window.scrollY > 200) { // 当滚动距离大于200时显示按钮
				backToTopBtn.style.display = 'block';
			} else {
				backToTopBtn.style.display = 'none';
			}
		});

		// 点击按钮回到顶部
		backToTopBtn.addEventListener('click', () => {
			window.scrollTo({
				top: 0,
				behavior: 'smooth' // 平滑滚动
			});
		});

		// 获取滚到底部按钮
		const scrollToBottomBtn = document.getElementById('scrollToBottomBtn');

		// 判断是否接近页面底部（距离底部200px以内）
		function isNearBottom() {
			const scrollPosition = window.scrollY + window.innerHeight;
			const distanceFromBottom = document.body.scrollHeight - scrollPosition;
			return distanceFromBottom <= 200;
		}

		// 更新按钮显示状态（直接切换display属性）
		function updateButtonVisibility() {
			if (isNearBottom()) {
				scrollToBottomBtn.style.display = 'none'; // 底部200px内隐藏
			} else {
				scrollToBottomBtn.style.display = 'block'; // 其余情况显示
			}
		}

		// 滚动事件监听
		window.addEventListener('scroll', updateButtonVisibility);

		// 点击按钮滚动到底部
		scrollToBottomBtn.addEventListener('click', () => {
			window.scrollTo({
				top: document.body.scrollHeight,
				behavior: 'smooth' // 平滑滚动
			});
		});

		// 页面加载后初始化按钮状态
		window.addEventListener('load', updateButtonVisibility);
	</script>
</html>
